import{a as Pe,i as Oe,s as je,f as v,b as U,y as P,z as _,A as Z,d as H,H as X,a1 as ln,h as ce,t as q,j as he,k as R,l as F,R as Je,o as _l,O as Bt,ay as ft,P as nn,p as Ue,K as de,w as pe,x as Ae,D as We,c as ne,m as se,n as oe,e as qe,bb as sn,q as ct,M as Dt,$ as _e,C as M,a4 as St,bn as al,u as ht,r as dt,v as bt,a5 as gt,aq as Ee,b9 as xe,ba as $e,J as Fe,bo as fl,E as ie,Q as cl,aa as on,a7 as Se,a8 as Re,G as rn,aB as un,B as _n,Y as an,S as fn,a0 as cn,a6 as hn}from"../lite.js";import{d as Ce}from"./index-CnqicUFC.js";import{U as dn}from"./Upload-CHvl3E40.js";import{M as bn}from"./MarkdownCode-CvA5WaIC.js";import{C as gn}from"./Check-DbzZ-PD_.js";import{C as mn}from"./Copy-DcTA0nce.js";import{M as wn,a as kn}from"./Minimize-DOBO88I3.js";import{d as yn}from"./dsv-DB8NKgIY.js";import{default as Ls}from"./Example-DqFZtsdI.js";/* empty css                                             */function Rt(n){let e,t,l;return{c(){e=P("input"),_(e,"role","textbox"),_(e,"tabindex","-1"),_(e,"class","svelte-1e50zov"),Z(e,"header",n[5])},m(s,o){H(s,e,o),n[21](e),Bt(e,n[11]),t||(l=[X(e,"input",n[22]),X(e,"blur",n[13]),X(e,"mousedown",ft(n[18])),X(e,"mouseup",ft(n[19])),X(e,"click",ft(n[20])),nn(n[12].call(null,e)),X(e,"keydown",n[14])],t=!0)},p(s,o){o&2048&&e.value!==s[11]&&Bt(e,s[11]),o&32&&Z(e,"header",s[5])},d(s){s&&F(e),n[21](null),t=!1,Je(l)}}}function pn(n){let e=(n[9]?n[0]:n[3]||n[0])+"",t;return{c(){t=pe(e)},m(l,s){H(l,t,s)},p(l,s){s&521&&e!==(e=(l[9]?l[0]:l[3]||l[0])+"")&&Ae(t,e)},i:We,o:We,d(l){l&&F(t)}}}function vn(n){let e,t;return e=new bn({props:{message:n[0].toLocaleString(),latex_delimiters:n[7],line_breaks:n[8],chatbot:!1,root:n[10]}}),{c(){ne(e.$$.fragment)},m(l,s){se(e,l,s),t=!0},p(l,s){const o={};s&1&&(o.message=l[0].toLocaleString()),s&128&&(o.latex_delimiters=l[7]),s&256&&(o.line_breaks=l[8]),s&1024&&(o.root=l[10]),e.$set(o)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Cn(n){let e,t;return{c(){e=new sn(!1),t=qe(),e.a=t},m(l,s){e.m(n[0],l,s),H(l,t,s)},p(l,s){s&1&&e.p(l[0])},i:We,o:We,d(l){l&&(F(t),e.d())}}}function An(n){let e,t,l,s,o,u,a,d=n[2]&&Rt(n);const c=[Cn,vn,pn],i=[];function f(b,m){return b[6]==="html"?0:b[6]==="markdown"?1:2}return l=f(n),s=i[l]=c[l](n),{c(){d&&d.c(),e=U(),t=P("span"),s.c(),_(t,"tabindex","-1"),_(t,"role","button"),_(t,"style",n[4]),_(t,"class","table-cell-text svelte-1e50zov"),_(t,"placeholder"," "),Z(t,"edit",n[2])},m(b,m){d&&d.m(b,m),H(b,e,m),H(b,t,m),i[l].m(t,null),o=!0,u||(a=[X(t,"dblclick",n[16]),X(t,"focus",ln(n[17]))],u=!0)},p(b,[m]){b[2]?d?d.p(b,m):(d=Rt(b),d.c(),d.m(e.parentNode,e)):d&&(d.d(1),d=null);let L=l;l=f(b),l===L?i[l].p(b,m):(ce(),q(i[L],1,1,()=>{i[L]=null}),he(),s=i[l],s?s.p(b,m):(s=i[l]=c[l](b),s.c()),R(s,1),s.m(t,null)),(!o||m&16)&&_(t,"style",b[4]),(!o||m&4)&&Z(t,"edit",b[2])},i(b){o||(R(s),o=!0)},o(b){q(s),o=!1},d(b){b&&(F(e),F(t)),d&&d.d(b),i[l].d(),u=!1,Je(a)}}}function En(n,e,t){let l,{edit:s}=e,{value:o=""}=e,{display_value:u=null}=e,{styling:a=""}=e,{header:d=!1}=e,{datatype:c="str"}=e,{latex_delimiters:i}=e,{clear_on_focus:f=!1}=e,{line_breaks:b=!0}=e,{editable:m=!0}=e,{root:L}=e;const T=_l();let{el:B}=e;function p(w){return f&&t(11,l=""),requestAnimationFrame(()=>{w.focus()}),{}}function C({currentTarget:w}){t(0,o=w.value),T("blur")}function A(w){w.key==="Enter"&&(t(0,o=l),T("blur")),T("keydown",w)}function S(w){Ue.call(this,n,w)}function N(w){Ue.call(this,n,w)}function j(w){Ue.call(this,n,w)}function le(w){Ue.call(this,n,w)}function J(w){Ue.call(this,n,w)}function $(w){de[w?"unshift":"push"](()=>{B=w,t(1,B)})}function D(){l=this.value,t(11,l),t(0,o)}return n.$$set=w=>{"edit"in w&&t(2,s=w.edit),"value"in w&&t(0,o=w.value),"display_value"in w&&t(3,u=w.display_value),"styling"in w&&t(4,a=w.styling),"header"in w&&t(5,d=w.header),"datatype"in w&&t(6,c=w.datatype),"latex_delimiters"in w&&t(7,i=w.latex_delimiters),"clear_on_focus"in w&&t(15,f=w.clear_on_focus),"line_breaks"in w&&t(8,b=w.line_breaks),"editable"in w&&t(9,m=w.editable),"root"in w&&t(10,L=w.root),"el"in w&&t(1,B=w.el)},n.$$.update=()=>{n.$$.dirty&1&&t(11,l=o)},[o,B,s,u,a,d,c,i,b,m,L,l,p,C,A,f,S,N,j,le,J,$,D]}class nt extends Pe{constructor(e){super(),Oe(this,e,En,An,je,{edit:2,value:0,display_value:3,styling:4,header:5,datatype:6,latex_delimiters:7,clear_on_focus:15,line_breaks:8,editable:9,root:10,el:1})}get edit(){return this.$$.ctx[2]}set edit(e){this.$$set({edit:e}),v()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),v()}get display_value(){return this.$$.ctx[3]}set display_value(e){this.$$set({display_value:e}),v()}get styling(){return this.$$.ctx[4]}set styling(e){this.$$set({styling:e}),v()}get header(){return this.$$.ctx[5]}set header(e){this.$$set({header:e}),v()}get datatype(){return this.$$.ctx[6]}set datatype(e){this.$$set({datatype:e}),v()}get latex_delimiters(){return this.$$.ctx[7]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),v()}get clear_on_focus(){return this.$$.ctx[15]}set clear_on_focus(e){this.$$set({clear_on_focus:e}),v()}get line_breaks(){return this.$$.ctx[8]}set line_breaks(e){this.$$set({line_breaks:e}),v()}get editable(){return this.$$.ctx[9]}set editable(e){this.$$set({editable:e}),v()}get root(){return this.$$.ctx[10]}set root(e){this.$$set({root:e}),v()}get el(){return this.$$.ctx[1]}set el(e){this.$$set({el:e}),v()}}const Mn=n=>({}),Tt=n=>({});function qt(n,e,t){const l=n.slice();return l[36]=e[t],l}const Ln=n=>({item:n[0]&256,index:n[0]&256}),Nt=n=>({item:n[36].data,index:n[36].index}),zn=n=>({}),Ht=n=>({});function Ft(n){let e=[],t=new Map,l,s,o=Ee(n[8]);const u=a=>a[36].data[0].id;for(let a=0;a<o.length;a+=1){let d=qt(n,o,a),c=u(d);t.set(c,e[a]=Pt(c,d))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=qe()},m(a,d){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,d);H(a,l,d),s=!0},p(a,d){d[0]&1048832&&(o=Ee(a[8]),ce(),e=xe(e,d,u,1,a,o,t,l.parentNode,$e,Pt,l,qt),he())},i(a){if(!s){for(let d=0;d<o.length;d+=1)R(e[d]);s=!0}},o(a){for(let d=0;d<e.length;d+=1)q(e[d]);s=!1},d(a){a&&F(l);for(let d=0;d<e.length;d+=1)e[d].d(a)}}}function Bn(n){let e;return{c(){e=pe(`Missing Table Row
					`)},m(t,l){H(t,e,l)},d(t){t&&F(e)}}}function Pt(n,e){let t,l;const s=e[21].tbody,o=ct(s,e,e[20],Nt),u=o||Bn();return{key:n,first:null,c(){t=qe(),u&&u.c(),this.first=t},m(a,d){H(a,t,d),u&&u.m(a,d),l=!0},p(a,d){e=a,o&&o.p&&(!l||d[0]&1048832)&&ht(o,s,e,e[20],l?bt(s,e[20],d,Ln):dt(e[20]),Nt)},i(a){l||(R(u,a),l=!0)},o(a){q(u,a),l=!1},d(a){a&&F(t),u&&u.d(a)}}}function Dn(n){let e,t,l,s,o,u,a,d,c,i,f,b,m;const L=n[21].thead,T=ct(L,n,n[20],Ht);let B=n[8].length&&n[8][0].data.length&&Ft(n);const p=n[21].tfoot,C=ct(p,n,n[20],Tt);return{c(){e=P("svelte-virtual-table-viewport"),t=P("table"),l=P("thead"),T&&T.c(),o=U(),u=P("tbody"),B&&B.c(),a=U(),d=P("tfoot"),C&&C.c(),_(l,"class","thead svelte-1xyl3gk"),Dt(()=>n[22].call(l)),_(u,"class","tbody svelte-1xyl3gk"),_(d,"class","tfoot svelte-1xyl3gk"),Dt(()=>n[24].call(d)),_(t,"class","table svelte-1xyl3gk"),_e(t,"height",Sn),_e(t,"--bw-svt-p-top",n[6]+"px"),_e(t,"--bw-svt-p-bottom",n[2]+"px"),_e(t,"--bw-svt-head-height",n[4]+"px"),_e(t,"--bw-svt-foot-height",n[5]+"px"),_e(t,"--bw-svt-avg-row-height",n[0]+"px")},m(A,S){H(A,e,S),M(e,t),M(t,l),T&&T.m(l,null),s=St(l,n[22].bind(l)),M(t,o),M(t,u),B&&B.m(u,null),n[23](u),M(t,a),M(t,d),C&&C.m(d,null),c=St(d,n[24].bind(d)),n[25](t),i=al.observe(t,n[26].bind(t)),f=!0,b||(m=X(t,"scroll",n[9]),b=!0)},p(A,S){T&&T.p&&(!f||S[0]&1048576)&&ht(T,L,A,A[20],f?bt(L,A[20],S,zn):dt(A[20]),Ht),A[8].length&&A[8][0].data.length?B?(B.p(A,S),S[0]&256&&R(B,1)):(B=Ft(A),B.c(),R(B,1),B.m(u,null)):B&&(ce(),q(B,1,1,()=>{B=null}),he()),C&&C.p&&(!f||S[0]&1048576)&&ht(C,p,A,A[20],f?bt(p,A[20],S,Mn):dt(A[20]),Tt),(!f||S[0]&64)&&_e(t,"--bw-svt-p-top",A[6]+"px"),(!f||S[0]&4)&&_e(t,"--bw-svt-p-bottom",A[2]+"px"),(!f||S[0]&16)&&_e(t,"--bw-svt-head-height",A[4]+"px"),(!f||S[0]&32)&&_e(t,"--bw-svt-foot-height",A[5]+"px"),(!f||S[0]&1)&&_e(t,"--bw-svt-avg-row-height",A[0]+"px")},i(A){f||(R(T,A),R(B),R(C,A),f=!0)},o(A){q(T,A),q(B),q(C,A),f=!1},d(A){A&&F(e),T&&T.d(A),s(),B&&B.d(),n[23](null),C&&C.d(A),c(),n[25](null),i(),b=!1,m()}}}let Sn="100%";function Rn(n,e){if(!n)return 0;const t=getComputedStyle(n);return parseInt(t.getPropertyValue(e))}function Tn(n,e,t){let l,{$$slots:s={},$$scope:o}=e,{items:u=[]}=e,{max_height:a}=e,{actual_height:d}=e,{table_scrollbar_width:c}=e,{start:i=0}=e,{end:f=20}=e,{selected:b}=e,m=30,L=0,T,B=0,p=0,C=[],A,S,N=0,j,le=200,J=[],$;const D=typeof window<"u",w=D?window.requestAnimationFrame:z=>z();let K=0;async function I(z){if(le===0)return;const{scrollTop:h}=j;t(13,c=j.offsetWidth-j.clientWidth),K=N-(h-B);let y=i;for(;K<a&&y<z.length;){let ee=S[y-i];ee||(t(11,f=y+1),await Fe(),ee=S[y-i]);let ge=ee?.getBoundingClientRect().height;ge||(ge=m);const Ie=C[y]=ge;K+=Ie,y+=1}t(11,f=y);const W=z.length-f,re=j.offsetHeight-j.clientHeight;re>0&&(K+=re);let ye=C.filter(ee=>typeof ee=="number");t(0,m=ye.reduce((ee,ge)=>ee+ge,0)/ye.length),t(2,L=W*m),C.length=z.length,await Fe(),a?K<a?t(12,d=K+2):t(12,d=a):t(12,d=K+1),await Fe()}async function G(z){w(async()=>{if(typeof z!="number")return;const h=typeof z!="number"?!1:x(z);h!==!0&&(h==="back"&&await ve(z,{behavior:"instant"}),h==="forwards"&&await ve(z,{behavior:"instant"},!0))})}function x(z){const h=S&&S[z-i];if(!h&&z<i)return"back";if(!h&&z>=f-1)return"forwards";const{top:y}=j.getBoundingClientRect(),{top:W,bottom:re}=h.getBoundingClientRect();return W-y<37?"back":re-y>le?"forwards":!0}async function Q(z){const h=j.scrollTop;S=T.children;const y=l.length<i,W=Rn(S[1],"border-top-width"),re=0;y&&await ve(l.length-1,{behavior:"auto"});let ye=0;for(let ae=0;ae<S.length;ae+=1)C[i+ae]=S[ae].getBoundingClientRect().height;let ee=0,ge=B+W/2,Ie=[];for(;ee<l.length;){const ae=C[ee]||m;if(Ie[ee]=ae,ge+ae+re>h){ye=ee,t(6,N=ge-(B+W/2));break}ge+=ae,ee+=1}for(ye=Math.max(0,ye);ee<l.length;){const ae=C[ee]||m;if(ge+=ae,ee+=1,ge>h+le)break}t(10,i=ye),t(11,f=ee);const Ne=l.length-f;f===0&&t(11,f=10),t(0,m=(ge-B)/f);let et=Ne*m;for(;ee<l.length;)ee+=1,C[ee]=m;t(2,L=et),isFinite(L)||t(2,L=2e5)}async function ve(z,h,y=!1){await Fe();const W=m;let re=z*W;y&&(re=re-le+W+B);const ye=j.offsetHeight-j.clientHeight;ye>0&&(re+=ye);const ee={top:re,behavior:"smooth",...h};j.scrollTo(ee)}gt(()=>{S=T.children,t(18,A=!0),I(u)});function we(){B=this.offsetHeight,t(4,B)}function Y(z){de[z?"unshift":"push"](()=>{T=z,t(3,T)})}function Me(){p=this.offsetHeight,t(5,p)}function Te(z){de[z?"unshift":"push"](()=>{j=z,t(7,j)})}function k(){$=fl.entries.get(this)?.contentRect,t(1,$)}return n.$$set=z=>{"items"in z&&t(14,u=z.items),"max_height"in z&&t(15,a=z.max_height),"actual_height"in z&&t(12,d=z.actual_height),"table_scrollbar_width"in z&&t(13,c=z.table_scrollbar_width),"start"in z&&t(10,i=z.start),"end"in z&&t(11,f=z.end),"selected"in z&&t(16,b=z.selected),"$$scope"in z&&t(20,o=z.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&2&&(le=$?.height||200),n.$$.dirty[0]&16384&&t(19,l=u),n.$$.dirty[0]&786432&&A&&w(()=>I(l)),n.$$.dirty[0]&65536&&G(b),n.$$.dirty[0]&560129&&t(8,J=D?l.slice(i,f).map((z,h)=>({index:h+i,data:z})):l.slice(0,a/l.length*m+1).map((z,h)=>({index:h+i,data:z})))},[m,$,L,T,B,p,N,j,J,Q,i,f,d,c,u,a,b,ve,A,l,o,s,we,Y,Me,Te,k]}class qn extends Pe{constructor(e){super(),Oe(this,e,Tn,Dn,je,{items:14,max_height:15,actual_height:12,table_scrollbar_width:13,start:10,end:11,selected:16,scroll_to_index:17},null,[-1,-1])}get items(){return this.$$.ctx[14]}set items(e){this.$$set({items:e}),v()}get max_height(){return this.$$.ctx[15]}set max_height(e){this.$$set({max_height:e}),v()}get actual_height(){return this.$$.ctx[12]}set actual_height(e){this.$$set({actual_height:e}),v()}get table_scrollbar_width(){return this.$$.ctx[13]}set table_scrollbar_width(e){this.$$set({table_scrollbar_width:e}),v()}get start(){return this.$$.ctx[10]}set start(e){this.$$set({start:e}),v()}get end(){return this.$$.ctx[11]}set end(e){this.$$set({end:e}),v()}get selected(){return this.$$.ctx[16]}set selected(e){this.$$set({selected:e}),v()}get scroll_to_index(){return this.$$.ctx[17]}}function Nn(n){let e,t,l;return{c(){e=ie("svg"),t=ie("rect"),l=ie("path"),_(t,"x","10"),_(t,"y","5"),_(t,"width","4"),_(t,"height","14"),_(t,"stroke","currentColor"),_(t,"stroke-width","2"),_(l,"d","M7 8L17 16M17 8L7 16"),_(l,"stroke","currentColor"),_(l,"stroke-width","2"),_(l,"stroke-linecap","round"),_(e,"viewBox","0 0 24 24"),_(e,"width","16"),_(e,"height","16")},m(s,o){H(s,e,o),M(e,t),M(e,l)},d(s){s&&F(e)}}}function Hn(n){let e,t,l;return{c(){e=ie("svg"),t=ie("rect"),l=ie("path"),_(t,"x","5"),_(t,"y","10"),_(t,"width","14"),_(t,"height","4"),_(t,"stroke","currentColor"),_(t,"stroke-width","2"),_(l,"d","M8 7L16 17M16 7L8 17"),_(l,"stroke","currentColor"),_(l,"stroke-width","2"),_(l,"stroke-linecap","round"),_(e,"viewBox","0 0 24 24"),_(e,"width","16"),_(e,"height","16")},m(s,o){H(s,e,o),M(e,t),M(e,l)},d(s){s&&F(e)}}}function Fn(n){let e,t,l;return{c(){e=ie("svg"),t=ie("rect"),l=ie("path"),_(t,"x","6"),_(t,"y","4"),_(t,"width","12"),_(t,"height","4"),_(t,"stroke","currentColor"),_(t,"stroke-width","2"),_(l,"d","M12 12V19M8 16L12 19L16 16"),_(l,"stroke","currentColor"),_(l,"stroke-width","2"),_(l,"fill","none"),_(l,"stroke-linecap","round"),_(e,"viewBox","0 0 24 24"),_(e,"width","16"),_(e,"height","16")},m(s,o){H(s,e,o),M(e,t),M(e,l)},d(s){s&&F(e)}}}function Pn(n){let e,t,l;return{c(){e=ie("svg"),t=ie("rect"),l=ie("path"),_(t,"x","6"),_(t,"y","16"),_(t,"width","12"),_(t,"height","4"),_(t,"stroke","currentColor"),_(t,"stroke-width","2"),_(l,"d","M12 12V5M8 8L12 5L16 8"),_(l,"stroke","currentColor"),_(l,"stroke-width","2"),_(l,"fill","none"),_(l,"stroke-linecap","round"),_(e,"viewBox","0 0 24 24"),_(e,"width","16"),_(e,"height","16")},m(s,o){H(s,e,o),M(e,t),M(e,l)},d(s){s&&F(e)}}}function On(n){let e,t,l;return{c(){e=ie("svg"),t=ie("rect"),l=ie("path"),_(t,"x","16"),_(t,"y","6"),_(t,"width","4"),_(t,"height","12"),_(t,"stroke","currentColor"),_(t,"stroke-width","2"),_(t,"fill","none"),_(l,"d","M12 12H5M8 8L5 12L8 16"),_(l,"stroke","currentColor"),_(l,"stroke-width","2"),_(l,"fill","none"),_(l,"stroke-linecap","round"),_(e,"viewBox","0 0 24 24"),_(e,"width","16"),_(e,"height","16")},m(s,o){H(s,e,o),M(e,t),M(e,l)},d(s){s&&F(e)}}}function jn(n){let e,t,l;return{c(){e=ie("svg"),t=ie("rect"),l=ie("path"),_(t,"x","4"),_(t,"y","6"),_(t,"width","4"),_(t,"height","12"),_(t,"stroke","currentColor"),_(t,"stroke-width","2"),_(t,"fill","none"),_(l,"d","M12 12H19M16 8L19 12L16 16"),_(l,"stroke","currentColor"),_(l,"stroke-width","2"),_(l,"fill","none"),_(l,"stroke-linecap","round"),_(e,"viewBox","0 0 24 24"),_(e,"width","16"),_(e,"height","16")},m(s,o){H(s,e,o),M(e,t),M(e,l)},d(s){s&&F(e)}}}function Jn(n){let e;function t(o,u){if(o[0]=="add-column-right")return jn;if(o[0]=="add-column-left")return On;if(o[0]=="add-row-above")return Pn;if(o[0]=="add-row-below")return Fn;if(o[0]=="delete-row")return Hn;if(o[0]=="delete-column")return Nn}let l=t(n),s=l&&l(n);return{c(){s&&s.c(),e=qe()},m(o,u){s&&s.m(o,u),H(o,e,u)},p(o,[u]){l!==(l=t(o))&&(s&&s.d(1),s=l&&l(o),s&&(s.c(),s.m(e.parentNode,e)))},i:We,o:We,d(o){o&&F(e),s&&s.d(o)}}}function Un(n,e,t){let{icon:l}=e;return n.$$set=s=>{"icon"in s&&t(0,l=s.icon)},[l]}class Ve extends Pe{constructor(e){super(),Oe(this,e,Un,Jn,je,{icon:0})}get icon(){return this.$$.ctx[0]}set icon(e){this.$$set({icon:e}),v()}}function Ot(n){let e,t,l,s=n[8]("dataframe.add_row_above")+"",o,u,a,d,c,i=n[8]("dataframe.add_row_below")+"",f,b,m,L,T,B;t=new Ve({props:{icon:"add-row-above"}}),d=new Ve({props:{icon:"add-row-below"}});let p=n[6]&&jt(n);return{c(){e=P("button"),ne(t.$$.fragment),l=U(),o=pe(s),u=U(),a=P("button"),ne(d.$$.fragment),c=U(),f=pe(i),b=U(),p&&p.c(),m=qe(),_(e,"class","svelte-9g877"),_(a,"class","svelte-9g877")},m(C,A){H(C,e,A),se(t,e,null),M(e,l),M(e,o),H(C,u,A),H(C,a,A),se(d,a,null),M(a,c),M(a,f),H(C,b,A),p&&p.m(C,A),H(C,m,A),L=!0,T||(B=[X(e,"click",n[18]),X(a,"click",n[19])],T=!0)},p(C,A){(!L||A&256)&&s!==(s=C[8]("dataframe.add_row_above")+"")&&Ae(o,s),(!L||A&256)&&i!==(i=C[8]("dataframe.add_row_below")+"")&&Ae(f,i),C[6]?p?(p.p(C,A),A&64&&R(p,1)):(p=jt(C),p.c(),R(p,1),p.m(m.parentNode,m)):p&&(ce(),q(p,1,1,()=>{p=null}),he())},i(C){L||(R(t.$$.fragment,C),R(d.$$.fragment,C),R(p),L=!0)},o(C){q(t.$$.fragment,C),q(d.$$.fragment,C),q(p),L=!1},d(C){C&&(F(e),F(u),F(a),F(b),F(m)),oe(t),oe(d),p&&p.d(C),T=!1,Je(B)}}}function jt(n){let e,t,l,s=n[8]("dataframe.delete_row")+"",o,u,a,d;return t=new Ve({props:{icon:"delete-row"}}),{c(){e=P("button"),ne(t.$$.fragment),l=U(),o=pe(s),_(e,"class","delete svelte-9g877")},m(c,i){H(c,e,i),se(t,e,null),M(e,l),M(e,o),u=!0,a||(d=X(e,"click",function(){cl(n[4])&&n[4].apply(this,arguments)}),a=!0)},p(c,i){n=c,(!u||i&256)&&s!==(s=n[8]("dataframe.delete_row")+"")&&Ae(o,s)},i(c){u||(R(t.$$.fragment,c),u=!0)},o(c){q(t.$$.fragment,c),u=!1},d(c){c&&F(e),oe(t),a=!1,d()}}}function Jt(n){let e,t,l,s=n[8]("dataframe.add_column_left")+"",o,u,a,d,c,i=n[8]("dataframe.add_column_right")+"",f,b,m,L,T,B;t=new Ve({props:{icon:"add-column-left"}}),d=new Ve({props:{icon:"add-column-right"}});let p=n[7]&&Ut(n);return{c(){e=P("button"),ne(t.$$.fragment),l=U(),o=pe(s),u=U(),a=P("button"),ne(d.$$.fragment),c=U(),f=pe(i),b=U(),p&&p.c(),m=qe(),_(e,"class","svelte-9g877"),_(a,"class","svelte-9g877")},m(C,A){H(C,e,A),se(t,e,null),M(e,l),M(e,o),H(C,u,A),H(C,a,A),se(d,a,null),M(a,c),M(a,f),H(C,b,A),p&&p.m(C,A),H(C,m,A),L=!0,T||(B=[X(e,"click",n[20]),X(a,"click",n[21])],T=!0)},p(C,A){(!L||A&256)&&s!==(s=C[8]("dataframe.add_column_left")+"")&&Ae(o,s),(!L||A&256)&&i!==(i=C[8]("dataframe.add_column_right")+"")&&Ae(f,i),C[7]?p?(p.p(C,A),A&128&&R(p,1)):(p=Ut(C),p.c(),R(p,1),p.m(m.parentNode,m)):p&&(ce(),q(p,1,1,()=>{p=null}),he())},i(C){L||(R(t.$$.fragment,C),R(d.$$.fragment,C),R(p),L=!0)},o(C){q(t.$$.fragment,C),q(d.$$.fragment,C),q(p),L=!1},d(C){C&&(F(e),F(u),F(a),F(b),F(m)),oe(t),oe(d),p&&p.d(C),T=!1,Je(B)}}}function Ut(n){let e,t,l,s=n[8]("dataframe.delete_column")+"",o,u,a,d;return t=new Ve({props:{icon:"delete-column"}}),{c(){e=P("button"),ne(t.$$.fragment),l=U(),o=pe(s),_(e,"class","delete svelte-9g877")},m(c,i){H(c,e,i),se(t,e,null),M(e,l),M(e,o),u=!0,a||(d=X(e,"click",function(){cl(n[5])&&n[5].apply(this,arguments)}),a=!0)},p(c,i){n=c,(!u||i&256)&&s!==(s=n[8]("dataframe.delete_column")+"")&&Ae(o,s)},i(c){u||(R(t.$$.fragment,c),u=!0)},o(c){q(t.$$.fragment,c),u=!1},d(c){c&&F(e),oe(t),a=!1,d()}}}function Wn(n){let e,t,l,s=!n[12]&&n[11]&&Ot(n),o=n[10]&&Jt(n);return{c(){e=P("div"),s&&s.c(),t=U(),o&&o.c(),_(e,"class","cell-menu svelte-9g877")},m(u,a){H(u,e,a),s&&s.m(e,null),M(e,t),o&&o.m(e,null),n[22](e),l=!0},p(u,[a]){!u[12]&&u[11]?s?(s.p(u,a),a&6144&&R(s,1)):(s=Ot(u),s.c(),R(s,1),s.m(e,t)):s&&(ce(),q(s,1,1,()=>{s=null}),he()),u[10]?o?(o.p(u,a),a&1024&&R(o,1)):(o=Jt(u),o.c(),R(o,1),o.m(e,null)):o&&(ce(),q(o,1,1,()=>{o=null}),he())},i(u){l||(R(s),R(o),l=!0)},o(u){q(s),q(o),l=!1},d(u){u&&F(e),s&&s.d(),o&&o.d(),n[22](null)}}}function Vn(n,e,t){let l,s,o,{x:u}=e,{y:a}=e,{on_add_row_above:d}=e,{on_add_row_below:c}=e,{on_add_column_left:i}=e,{on_add_column_right:f}=e,{row:b}=e,{col_count:m}=e,{row_count:L}=e,{on_delete_row:T}=e,{on_delete_col:B}=e,{can_delete_rows:p}=e,{can_delete_cols:C}=e,{i18n:A}=e,S;gt(()=>{N()});function N(){if(!S)return;const w=window.innerWidth,K=window.innerHeight,I=S.getBoundingClientRect();let G=u-30,x=a-20;G+I.width>w&&(G=u-I.width+10),x+I.height>K&&(x=a-I.height+10),t(9,S.style.left=`${G}px`,S),t(9,S.style.top=`${x}px`,S)}const j=()=>d(),le=()=>c(),J=()=>i(),$=()=>f();function D(w){de[w?"unshift":"push"](()=>{S=w,t(9,S)})}return n.$$set=w=>{"x"in w&&t(13,u=w.x),"y"in w&&t(14,a=w.y),"on_add_row_above"in w&&t(0,d=w.on_add_row_above),"on_add_row_below"in w&&t(1,c=w.on_add_row_below),"on_add_column_left"in w&&t(2,i=w.on_add_column_left),"on_add_column_right"in w&&t(3,f=w.on_add_column_right),"row"in w&&t(15,b=w.row),"col_count"in w&&t(16,m=w.col_count),"row_count"in w&&t(17,L=w.row_count),"on_delete_row"in w&&t(4,T=w.on_delete_row),"on_delete_col"in w&&t(5,B=w.on_delete_col),"can_delete_rows"in w&&t(6,p=w.can_delete_rows),"can_delete_cols"in w&&t(7,C=w.can_delete_cols),"i18n"in w&&t(8,A=w.i18n)},n.$$.update=()=>{n.$$.dirty&32768&&t(12,l=b===-1),n.$$.dirty&131072&&t(11,s=L[1]==="dynamic"),n.$$.dirty&65536&&t(10,o=m[1]==="dynamic")},[d,c,i,f,T,B,p,C,A,S,o,s,l,u,a,b,m,L,j,le,J,$,D]}class hl extends Pe{constructor(e){super(),Oe(this,e,Vn,Wn,je,{x:13,y:14,on_add_row_above:0,on_add_row_below:1,on_add_column_left:2,on_add_column_right:3,row:15,col_count:16,row_count:17,on_delete_row:4,on_delete_col:5,can_delete_rows:6,can_delete_cols:7,i18n:8})}get x(){return this.$$.ctx[13]}set x(e){this.$$set({x:e}),v()}get y(){return this.$$.ctx[14]}set y(e){this.$$set({y:e}),v()}get on_add_row_above(){return this.$$.ctx[0]}set on_add_row_above(e){this.$$set({on_add_row_above:e}),v()}get on_add_row_below(){return this.$$.ctx[1]}set on_add_row_below(e){this.$$set({on_add_row_below:e}),v()}get on_add_column_left(){return this.$$.ctx[2]}set on_add_column_left(e){this.$$set({on_add_column_left:e}),v()}get on_add_column_right(){return this.$$.ctx[3]}set on_add_column_right(e){this.$$set({on_add_column_right:e}),v()}get row(){return this.$$.ctx[15]}set row(e){this.$$set({row:e}),v()}get col_count(){return this.$$.ctx[16]}set col_count(e){this.$$set({col_count:e}),v()}get row_count(){return this.$$.ctx[17]}set row_count(e){this.$$set({row_count:e}),v()}get on_delete_row(){return this.$$.ctx[4]}set on_delete_row(e){this.$$set({on_delete_row:e}),v()}get on_delete_col(){return this.$$.ctx[5]}set on_delete_col(e){this.$$set({on_delete_col:e}),v()}get can_delete_rows(){return this.$$.ctx[6]}set can_delete_rows(e){this.$$set({can_delete_rows:e}),v()}get can_delete_cols(){return this.$$.ctx[7]}set can_delete_cols(e){this.$$set({can_delete_cols:e}),v()}get i18n(){return this.$$.ctx[8]}set i18n(e){this.$$set({i18n:e}),v()}}function Wt(n){let e,t,l,s,o,u,a,d;const c=[Kn,In],i=[];function f(b,m){return b[3]?0:1}return t=f(n),l=i[t]=c[t](n),{c(){e=P("button"),l.c(),_(e,"class","toolbar-button svelte-1v8q0in"),_(e,"aria-label",s=n[3]?"Copied to clipboard":"Copy table data"),_(e,"title",o=n[3]?"Copied to clipboard":"Copy table data")},m(b,m){H(b,e,m),i[t].m(e,null),u=!0,a||(d=X(e,"click",n[4]),a=!0)},p(b,m){let L=t;t=f(b),t!==L&&(ce(),q(i[L],1,1,()=>{i[L]=null}),he(),l=i[t],l||(l=i[t]=c[t](b),l.c()),R(l,1),l.m(e,null)),(!u||m&8&&s!==(s=b[3]?"Copied to clipboard":"Copy table data"))&&_(e,"aria-label",s),(!u||m&8&&o!==(o=b[3]?"Copied to clipboard":"Copy table data"))&&_(e,"title",o)},i(b){u||(R(l),u=!0)},o(b){q(l),u=!1},d(b){b&&F(e),i[t].d(),a=!1,d()}}}function In(n){let e,t;return e=new mn({}),{c(){ne(e.$$.fragment)},m(l,s){se(e,l,s),t=!0},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Kn(n){let e,t;return e=new gn({}),{c(){ne(e.$$.fragment)},m(l,s){se(e,l,s),t=!0},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Vt(n){let e,t,l,s,o,u,a,d;const c=[Gn,Zn],i=[];function f(b,m){return b[2]?0:1}return t=f(n),l=i[t]=c[t](n),{c(){e=P("button"),l.c(),_(e,"class","toolbar-button svelte-1v8q0in"),_(e,"aria-label",s=n[2]?"Exit fullscreen":"Enter fullscreen"),_(e,"title",o=n[2]?"Exit fullscreen":"Enter fullscreen")},m(b,m){H(b,e,m),i[t].m(e,null),u=!0,a||(d=X(e,"click",n[6]),a=!0)},p(b,m){let L=t;t=f(b),t!==L&&(ce(),q(i[L],1,1,()=>{i[L]=null}),he(),l=i[t],l||(l=i[t]=c[t](b),l.c()),R(l,1),l.m(e,null)),(!u||m&4&&s!==(s=b[2]?"Exit fullscreen":"Enter fullscreen"))&&_(e,"aria-label",s),(!u||m&4&&o!==(o=b[2]?"Exit fullscreen":"Enter fullscreen"))&&_(e,"title",o)},i(b){u||(R(l),u=!0)},o(b){q(l),u=!1},d(b){b&&F(e),i[t].d(),a=!1,d()}}}function Zn(n){let e,t;return e=new wn({}),{c(){ne(e.$$.fragment)},m(l,s){se(e,l,s),t=!0},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Gn(n){let e,t;return e=new kn({}),{c(){ne(e.$$.fragment)},m(l,s){se(e,l,s),t=!0},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Qn(n){let e,t,l,s=n[1]&&Wt(n),o=n[0]&&Vt(n);return{c(){e=P("div"),s&&s.c(),t=U(),o&&o.c(),_(e,"class","toolbar svelte-1v8q0in"),_(e,"role","toolbar"),_(e,"aria-label","Table actions")},m(u,a){H(u,e,a),s&&s.m(e,null),M(e,t),o&&o.m(e,null),l=!0},p(u,[a]){u[1]?s?(s.p(u,a),a&2&&R(s,1)):(s=Wt(u),s.c(),R(s,1),s.m(e,t)):s&&(ce(),q(s,1,1,()=>{s=null}),he()),u[0]?o?(o.p(u,a),a&1&&R(o,1)):(o=Vt(u),o.c(),R(o,1),o.m(e,null)):o&&(ce(),q(o,1,1,()=>{o=null}),he())},i(u){l||(R(s),R(o),l=!0)},o(u){q(s),q(o),l=!1},d(u){u&&F(e),s&&s.d(),o&&o.d()}}}function Yn(n,e,t){let{show_fullscreen_button:l=!1}=e,{show_copy_button:s=!1}=e,{is_fullscreen:o=!1}=e,{on_copy:u}=e,a=!1,d;function c(){t(3,a=!0),d&&clearTimeout(d),d=setTimeout(()=>{t(3,a=!1)},2e3)}async function i(){await u(),c()}on(()=>{d&&clearTimeout(d)});function f(b){Ue.call(this,n,b)}return n.$$set=b=>{"show_fullscreen_button"in b&&t(0,l=b.show_fullscreen_button),"show_copy_button"in b&&t(1,s=b.show_copy_button),"is_fullscreen"in b&&t(2,o=b.is_fullscreen),"on_copy"in b&&t(5,u=b.on_copy)},[l,s,o,a,i,u,f]}class Xn extends Pe{constructor(e){super(),Oe(this,e,Yn,Qn,je,{show_fullscreen_button:0,show_copy_button:1,is_fullscreen:2,on_copy:5})}get show_fullscreen_button(){return this.$$.ctx[0]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),v()}get show_copy_button(){return this.$$.ctx[1]}set show_copy_button(e){this.$$set({show_copy_button:e}),v()}get is_fullscreen(){return this.$$.ctx[2]}set is_fullscreen(e){this.$$set({is_fullscreen:e}),v()}get on_copy(){return this.$$.ctx[5]}set on_copy(e){this.$$set({on_copy:e}),v()}}async function xn(n,e){const t=e?e.map(o=>String(o.value)).join(","):"",l=n.map(o=>o.map(u=>String(u.value)).join(",")).join(`
`),s=t?`${t}
${l}`:l;try{if("clipboard"in navigator)await navigator.clipboard.writeText(s);else{const o=document.createElement("textarea");o.value=s,o.style.position="absolute",o.style.left="-999999px",document.body.prepend(o),o.select(),document.execCommand("copy"),o.remove()}}catch(o){console.error("Failed to copy table data:",o)}}const{window:$n}=un;function It(n,e,t){const l=n.slice();return l[124]=e[t].value,l[125]=e[t].id,l[128]=e,l[129]=t,l}function Kt(n,e,t){const l=n.slice();return l[124]=e[t].value,l[125]=e[t].id,l[126]=e,l[127]=t,l}function Zt(n,e,t){const l=n.slice();return l[124]=e[t].value,l[125]=e[t].id,l[130]=e,l[127]=t,l}function Gt(n,e,t){const l=n.slice();return l[124]=e[t].value,l[125]=e[t].id,l[129]=t,l}function Qt(n){let e,t,l;return{c(){e=P("div"),t=P("p"),l=pe(n[1]),_(t,"class","svelte-1l6bino"),_(e,"class","label svelte-1l6bino")},m(s,o){H(s,e,o),M(e,t),M(t,l)},p(s,o){o[0]&2&&Ae(l,s[1])},d(s){s&&F(e)}}}function Yt(n){let e,t;return{c(){e=P("caption"),t=pe(n[1]),_(e,"class","sr-only")},m(l,s){H(l,e,s),M(e,t)},p(l,s){s[0]&2&&Ae(t,l[1])},d(l){l&&F(e)}}}function Xt(n){let e;return{c(){e=P("th"),_(e,"class","row-number-header svelte-1l6bino")},m(t,l){H(t,e,l)},d(t){t&&F(e)}}}function xt(n,e){let t,l,s,o,u,a,d,c,i,f,b;return s=new nt({props:{value:e[124],latex_delimiters:e[5],line_breaks:e[11],header:!0,edit:!1,el:null,root:e[8]}}),{key:n,first:null,c(){t=P("th"),l=P("div"),ne(s.$$.fragment),o=U(),u=P("div"),a=ie("svg"),d=ie("path"),i=U(),_(d,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),_(a,"width","1em"),_(a,"height","1em"),_(a,"viewBox","0 0 9 7"),_(a,"fill","none"),_(a,"xmlns","http://www.w3.org/2000/svg"),_(a,"class","svelte-1l6bino"),_(u,"class",c="sort-button "+e[23]+" svelte-1l6bino"),Z(u,"sorted",e[24]===e[129]),Z(u,"des",e[24]===e[129]&&e[23]==="des"),_(l,"class","cell-wrap svelte-1l6bino"),_(t,"aria-sort",f=e[43](e[124],e[24],e[23])),_(t,"class","svelte-1l6bino"),Z(t,"editing",e[31]===e[129]),_e(t,"width",e[12].length?e[12][e[129]]:void 0),this.first=t},m(m,L){H(m,t,L),M(t,l),se(s,l,null),M(l,o),M(l,u),M(u,a),M(a,d),M(t,i),b=!0},p(m,L){e=m;const T={};L[0]&2097152&&(T.value=e[124]),L[0]&32&&(T.latex_delimiters=e[5]),L[0]&2048&&(T.line_breaks=e[11]),L[0]&256&&(T.root=e[8]),s.$set(T),(!b||L[0]&8388608&&c!==(c="sort-button "+e[23]+" svelte-1l6bino"))&&_(u,"class",c),(!b||L[0]&27262976)&&Z(u,"sorted",e[24]===e[129]),(!b||L[0]&27262976)&&Z(u,"des",e[24]===e[129]&&e[23]==="des"),(!b||L[0]&27262976&&f!==(f=e[43](e[124],e[24],e[23])))&&_(t,"aria-sort",f),(!b||L[0]&2097152|L[1]&1)&&Z(t,"editing",e[31]===e[129]),L[0]&2101248&&_e(t,"width",e[12].length?e[12][e[129]]:void 0)},i(m){b||(R(s.$$.fragment,m),b=!0)},o(m){q(s.$$.fragment,m),b=!1},d(m){m&&F(t),oe(s)}}}function $t(n,e){let t,l,s,o,u=e[127],a;s=new nt({props:{value:e[124],latex_delimiters:e[5],line_breaks:e[11],datatype:Array.isArray(e[0])?e[0][e[127]]:e[0],edit:!1,el:null,root:e[8]}});const d=()=>e[67](t,u),c=()=>e[67](null,u);return{key:n,first:null,c(){t=P("td"),l=P("div"),ne(s.$$.fragment),o=U(),_(l,"class","cell-wrap svelte-1l6bino"),_(t,"tabindex","-1"),_(t,"class","svelte-1l6bino"),this.first=t},m(i,f){H(i,t,f),M(t,l),se(s,l,null),M(t,o),d(),a=!0},p(i,f){e=i;const b={};f[1]&2048&&(b.value=e[124]),f[0]&32&&(b.latex_delimiters=e[5]),f[0]&2048&&(b.line_breaks=e[11]),f[0]&1|f[1]&2048&&(b.datatype=Array.isArray(e[0])?e[0][e[127]]:e[0]),f[0]&256&&(b.root=e[8]),s.$set(b),u!==e[127]&&(c(),u=e[127],d())},i(i){a||(R(s.$$.fragment,i),a=!0)},o(i){q(s.$$.fragment,i),a=!1},d(i){i&&F(t),oe(s),c()}}}function el(n){let e,t;return{c(){e=P("caption"),t=pe(n[1]),_(e,"class","sr-only")},m(l,s){H(l,e,s),M(e,t)},p(l,s){s[0]&2&&Ae(t,l[1])},d(l){l&&F(e)}}}function es(n){let e,t=n[1]&&n[1].length!==0&&el(n);return{c(){t&&t.c(),e=qe()},m(l,s){t&&t.m(l,s),H(l,e,s)},p(l,s){l[1]&&l[1].length!==0?t?t.p(l,s):(t=el(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&F(e),t&&t.d(l)}}}function tl(n){let e;return{c(){e=P("th"),_(e,"class","row-number-header svelte-1l6bino")},m(t,l){H(t,e,l)},d(t){t&&F(e)}}}function ll(n){let e,t,l;function s(...o){return n[80](n[129],...o)}return{c(){e=P("button"),e.textContent="⋮",_(e,"class","cell-menu-button svelte-1l6bino")},m(o,u){H(o,e,u),t||(l=X(e,"click",s),t=!0)},p(o,u){n=o},d(o){o&&F(e),t=!1,l()}}}function nl(n,e){let t,l,s,o,u,a,d,c,i,f,b,m,L,T,B,p,C;function A(D){e[76](D,e[129])}function S(D){e[77](D,e[125])}function N(){return e[78](e[129])}let j={latex_delimiters:e[5],line_breaks:e[11],edit:e[31]===e[129],header:!0,root:e[8]};e[21][e[129]].value!==void 0&&(j.value=e[21][e[129]].value),e[29][e[125]].input!==void 0&&(j.el=e[29][e[125]].input),o=new nt({props:j}),de.push(()=>Se(o,"value",A)),de.push(()=>Se(o,"el",S)),o.$on("keydown",e[47]),o.$on("dblclick",N);function le(...D){return e[79](e[129],...D)}let J=e[6]&&ll(e);function $(){return e[81](e[129])}return{key:n,first:null,c(){t=P("th"),l=P("div"),s=P("div"),ne(o.$$.fragment),d=U(),c=P("button"),i=ie("svg"),f=ie("path"),m=U(),J&&J.c(),L=U(),_(f,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),_(i,"width","1em"),_(i,"height","1em"),_(i,"viewBox","0 0 9 7"),_(i,"fill","none"),_(i,"xmlns","http://www.w3.org/2000/svg"),_(i,"class","svelte-1l6bino"),_(c,"class",b="sort-button "+e[23]+" svelte-1l6bino"),_(c,"tabindex","0"),Z(c,"sorted",e[24]===e[129]),Z(c,"des",e[24]===e[129]&&e[23]==="des"),_(s,"class","header-content svelte-1l6bino"),_(l,"class","cell-wrap svelte-1l6bino"),_(t,"aria-sort",T=e[43](e[124],e[24],e[23])),_e(t,"width","var(--cell-width-"+e[129]+")"),_(t,"class","svelte-1l6bino"),Z(t,"focus",e[31]===e[129]||e[32]===e[129]),this.first=t},m(D,w){H(D,t,w),M(t,l),M(l,s),se(o,s,null),M(s,d),M(s,c),M(c,i),M(i,f),M(l,m),J&&J.m(l,null),M(t,L),B=!0,p||(C=[X(c,"click",le),X(t,"click",$)],p=!0)},p(D,w){e=D;const K={};w[0]&32&&(K.latex_delimiters=e[5]),w[0]&2048&&(K.line_breaks=e[11]),w[0]&2097152|w[1]&1&&(K.edit=e[31]===e[129]),w[0]&256&&(K.root=e[8]),!u&&w[0]&2097152&&(u=!0,K.value=e[21][e[129]].value,Re(()=>u=!1)),!a&&w[0]&538968064&&(a=!0,K.el=e[29][e[125]].input,Re(()=>a=!1)),o.$set(K),(!B||w[0]&8388608&&b!==(b="sort-button "+e[23]+" svelte-1l6bino"))&&_(c,"class",b),(!B||w[0]&27262976)&&Z(c,"sorted",e[24]===e[129]),(!B||w[0]&27262976)&&Z(c,"des",e[24]===e[129]&&e[23]==="des"),e[6]?J?J.p(e,w):(J=ll(e),J.c(),J.m(l,null)):J&&(J.d(1),J=null),(!B||w[0]&27262976&&T!==(T=e[43](e[124],e[24],e[23])))&&_(t,"aria-sort",T),(!B||w[0]&2097152)&&_e(t,"width","var(--cell-width-"+e[129]+")"),(!B||w[0]&2097152|w[1]&3)&&Z(t,"focus",e[31]===e[129]||e[32]===e[129])},i(D){B||(R(o.$$.fragment,D),B=!0)},o(D){q(o.$$.fragment,D),B=!1},d(D){D&&F(t),oe(o),J&&J.d(),p=!1,Je(C)}}}function ts(n){let e,t,l=[],s=new Map,o,u=n[13]&&tl(),a=Ee(n[21]);const d=c=>c[125];for(let c=0;c<a.length;c+=1){let i=It(n,a,c),f=d(i);s.set(f,l[c]=nl(f,i))}return{c(){e=P("tr"),u&&u.c(),t=U();for(let c=0;c<l.length;c+=1)l[c].c();_(e,"slot","thead"),_(e,"class","svelte-1l6bino")},m(c,i){H(c,e,i),u&&u.m(e,null),M(e,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(e,null);o=!0},p(c,i){c[13]?u||(u=tl(),u.c(),u.m(e,t)):u&&(u.d(1),u=null),i[0]&564136288|i[1]&71421955&&(a=Ee(c[21]),ce(),l=xe(l,i,d,1,c,a,s,e,$e,nl,null,It),he())},i(c){if(!o){for(let i=0;i<a.length;i+=1)R(l[i]);o=!0}},o(c){for(let i=0;i<l.length;i+=1)q(l[i]);o=!1},d(c){c&&F(e),u&&u.d();for(let i=0;i<l.length;i+=1)l[i].d()}}}function sl(n){let e,t=n[122]+1+"",l,s;return{c(){e=P("td"),l=pe(t),_(e,"class","row-number svelte-1l6bino"),_(e,"title",s=`Row ${n[122]+1}`)},m(o,u){H(o,e,u),M(e,l)},p(o,u){u[3]&536870912&&t!==(t=o[122]+1+"")&&Ae(l,t),u[3]&536870912&&s!==(s=`Row ${o[122]+1}`)&&_(e,"title",s)},d(o){o&&F(e)}}}function ol(n){let e,t,l;function s(...o){return n[73](n[122],n[127],...o)}return{c(){e=P("button"),e.textContent="⋮",_(e,"class","cell-menu-button svelte-1l6bino")},m(o,u){H(o,e,u),t||(l=X(e,"click",s),t=!0)},p(o,u){n=o},d(o){o&&F(e),t=!1,l()}}}function il(n,e){let t,l,s,o,u,a,d,c,i=`var(--cell-width-${e[127]})`,f,b,m;function L(S){e[70](S,e[122],e[127])}function T(S){e[71](S,e[125])}let B={display_value:e[18]?.[e[122]]?.[e[127]],latex_delimiters:e[5],line_breaks:e[11],editable:e[6],edit:Ce(e[28],[e[122],e[127]]),datatype:Array.isArray(e[0])?e[0][e[127]]:e[0],clear_on_focus:e[30],root:e[8]};e[22][e[122]][e[127]].value!==void 0&&(B.value=e[22][e[122]][e[127]].value),e[29][e[125]].input!==void 0&&(B.el=e[29][e[125]].input),s=new nt({props:B}),de.push(()=>Se(s,"value",L)),de.push(()=>Se(s,"el",T)),s.$on("blur",e[72]);let p=e[6]&&ol(e);function C(...S){return e[74](e[122],e[127],...S)}function A(...S){return e[75](e[122],e[127],...S)}return{key:n,first:null,c(){t=P("td"),l=P("div"),ne(s.$$.fragment),a=U(),p&&p.c(),d=U(),_(l,"class","cell-wrap svelte-1l6bino"),_(t,"tabindex","0"),_(t,"style",c=e[19]?.[e[122]]?.[e[127]]||""),_(t,"class","svelte-1l6bino"),Z(t,"focus",Ce(e[20],[e[122],e[127]])),Z(t,"menu-active",e[38]&&e[38].row===e[122]&&e[38].col===e[127]),_e(t,"width",i),this.first=t},m(S,N){H(S,t,N),M(t,l),se(s,l,null),M(l,a),p&&p.m(l,null),M(t,d),f=!0,b||(m=[X(t,"touchstart",C),X(t,"mousedown",us),X(t,"click",A)],b=!0)},p(S,N){e=S;const j={};N[0]&262144|N[3]&1610612736&&(j.display_value=e[18]?.[e[122]]?.[e[127]]),N[0]&32&&(j.latex_delimiters=e[5]),N[0]&2048&&(j.line_breaks=e[11]),N[0]&64&&(j.editable=e[6]),N[0]&268435456|N[3]&1610612736&&(j.edit=Ce(e[28],[e[122],e[127]])),N[0]&1|N[3]&1073741824&&(j.datatype=Array.isArray(e[0])?e[0][e[127]]:e[0]),N[0]&1073741824&&(j.clear_on_focus=e[30]),N[0]&256&&(j.root=e[8]),!o&&N[0]&4194304|N[3]&1610612736&&(o=!0,j.value=e[22][e[122]][e[127]].value,Re(()=>o=!1)),!u&&N[0]&536870912|N[3]&1073741824&&(u=!0,j.el=e[29][e[125]].input,Re(()=>u=!1)),s.$set(j),e[6]?p?p.p(e,N):(p=ol(e),p.c(),p.m(l,null)):p&&(p.d(1),p=null),(!f||N[0]&524288|N[3]&1610612736&&c!==(c=e[19]?.[e[122]]?.[e[127]]||""))&&_(t,"style",c),(!f||N[0]&1048576|N[3]&1610612736)&&Z(t,"focus",Ce(e[20],[e[122],e[127]])),(!f||N[1]&128|N[3]&1610612736)&&Z(t,"menu-active",e[38]&&e[38].row===e[122]&&e[38].col===e[127]);const le=N[0]&524288|N[3]&1610612736;(N[0]&524288|N[3]&1610612736&&i!==(i=`var(--cell-width-${e[127]})`)||le)&&_e(t,"width",i)},i(S){f||(R(s.$$.fragment,S),f=!0)},o(S){q(s.$$.fragment,S),f=!1},d(S){S&&F(t),oe(s),p&&p.d(),b=!1,Je(m)}}}function ls(n){let e,t,l=[],s=new Map,o,u=n[13]&&sl(n),a=Ee(n[123]);const d=c=>c[125];for(let c=0;c<a.length;c+=1){let i=Kt(n,a,c),f=d(i);s.set(f,l[c]=il(f,i))}return{c(){e=P("tr"),u&&u.c(),t=U();for(let c=0;c<l.length;c+=1)l[c].c();_(e,"slot","tbody"),_(e,"class","svelte-1l6bino"),Z(e,"row_odd",n[122]%2===0)},m(c,i){H(c,e,i),u&&u.m(e,null),M(e,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(e,null);o=!0},p(c,i){c[13]?u?u.p(c,i):(u=sl(c),u.c(),u.m(e,t)):u&&(u.d(1),u=null),i[0]&1952188769|i[1]&8913291|i[3]&1610612736&&(a=Ee(c[123]),ce(),l=xe(l,i,d,1,c,a,s,e,$e,il,null,Kt),he()),(!o||i[3]&536870912)&&Z(e,"row_odd",c[122]%2===0)},i(c){if(!o){for(let i=0;i<a.length;i+=1)R(l[i]);o=!0}},o(c){for(let i=0;i<l.length;i+=1)q(l[i]);o=!1},d(c){c&&F(e),u&&u.d();for(let i=0;i<l.length;i+=1)l[i].d()}}}function ns(n){let e,t,l,s,o;function u(i){n[82](i)}function a(i){n[83](i)}function d(i){n[84](i)}let c={max_height:n[10],selected:n[41],$$slots:{tbody:[ls,({index:i,item:f})=>({122:i,123:f}),({index:i,item:f})=>[0,0,0,(i?536870912:0)|(f?1073741824:0)]],thead:[ts],default:[es]},$$scope:{ctx:n}};return n[22]!==void 0&&(c.items=n[22]),n[36]!==void 0&&(c.actual_height=n[36]),n[37]!==void 0&&(c.table_scrollbar_width=n[37]),e=new qn({props:c}),de.push(()=>Se(e,"items",u)),de.push(()=>Se(e,"actual_height",a)),de.push(()=>Se(e,"table_scrollbar_width",d)),{c(){ne(e.$$.fragment)},m(i,f){se(e,i,f),o=!0},p(i,f){const b={};f[0]&1024&&(b.max_height=i[10]),f[1]&1024&&(b.selected=i[41]),f[0]&1979459939|f[1]&395|f[3]&1610612736|f[4]&256&&(b.$$scope={dirty:f,ctx:i}),!t&&f[0]&4194304&&(t=!0,b.items=i[22],Re(()=>t=!1)),!l&&f[1]&32&&(l=!0,b.actual_height=i[36],Re(()=>l=!1)),!s&&f[1]&64&&(s=!0,b.table_scrollbar_width=i[37],Re(()=>s=!1)),e.$set(b)},i(i){o||(R(e.$$.fragment,i),o=!0)},o(i){q(e.$$.fragment,i),o=!1},d(i){oe(e,i)}}}function rl(n){let e,t;return e=new hl({props:{x:n[38].x,y:n[38].y,row:n[38].row,col_count:n[3],row_count:n[4],on_add_row_above:n[89],on_add_row_below:n[90],on_add_column_left:n[91],on_add_column_right:n[92],on_delete_row:n[93],on_delete_col:n[94],can_delete_rows:n[22].length>1,can_delete_cols:n[22][0].length>1,i18n:n[9]}}),{c(){ne(e.$$.fragment)},m(l,s){se(e,l,s),t=!0},p(l,s){const o={};s[1]&128&&(o.x=l[38].x),s[1]&128&&(o.y=l[38].y),s[1]&128&&(o.row=l[38].row),s[0]&8&&(o.col_count=l[3]),s[0]&16&&(o.row_count=l[4]),s[1]&128&&(o.on_add_row_above=l[89]),s[1]&128&&(o.on_add_row_below=l[90]),s[1]&128&&(o.on_add_column_left=l[91]),s[1]&128&&(o.on_add_column_right=l[92]),s[1]&128&&(o.on_delete_row=l[93]),s[1]&128&&(o.on_delete_col=l[94]),s[0]&4194304&&(o.can_delete_rows=l[22].length>1),s[0]&4194304&&(o.can_delete_cols=l[22][0].length>1),s[0]&512&&(o.i18n=l[9]),e.$set(o)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function ul(n){let e,t;return e=new hl({props:{i18n:n[9],x:n[39].x,y:n[39].y,row:-1,col_count:n[3],row_count:n[4],on_add_row_above:n[95],on_add_row_below:n[96],on_add_column_left:n[97],on_add_column_right:n[98],on_delete_row:n[99],on_delete_col:n[100],can_delete_rows:!1,can_delete_cols:n[22][0].length>1}}),{c(){ne(e.$$.fragment)},m(l,s){se(e,l,s),t=!0},p(l,s){const o={};s[0]&512&&(o.i18n=l[9]),s[1]&256&&(o.x=l[39].x),s[1]&256&&(o.y=l[39].y),s[0]&8&&(o.col_count=l[3]),s[0]&16&&(o.row_count=l[4]),s[1]&128&&(o.on_add_row_above=l[95]),s[1]&128&&(o.on_add_row_below=l[96]),s[1]&256&&(o.on_add_column_left=l[97]),s[1]&256&&(o.on_add_column_right=l[98]),s[1]&128&&(o.on_delete_row=l[99]),s[1]&256&&(o.on_delete_col=l[100]),s[0]&4194304&&(o.can_delete_cols=l[22][0].length>1),e.$set(o)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function ss(n){let e,t,l,s,o,u,a,d,c,i,f,b=[],m=new Map,L,T,B,p=[],C=new Map,A,S,N,j,le,J,$,D,w,K,I=n[1]&&n[1].length!==0&&n[2]&&Qt(n);s=new Xn({props:{show_fullscreen_button:n[16],is_fullscreen:n[40],on_copy:n[56],show_copy_button:n[17]}}),s.$on("click",n[55]);let G=n[1]&&n[1].length!==0&&Yt(n),x=n[13]&&Xt(),Q=Ee(n[21]);const ve=h=>h[125];for(let h=0;h<Q.length;h+=1){let y=Gt(n,Q,h),W=ve(y);m.set(W,b[h]=xt(W,y))}let we=Ee(n[42]);const Y=h=>h[125];for(let h=0;h<we.length;h+=1){let y=Zt(n,we,h),W=Y(y);C.set(W,p[h]=$t(W,y))}function Me(h){n[85](h)}let Te={upload:n[14],stream_handler:n[15],flex:!1,center:!1,boundedheight:!1,disable_click:!0,root:n[8],$$slots:{default:[ns]},$$scope:{ctx:n}};n[33]!==void 0&&(Te.dragging=n[33]),N=new dn({props:Te}),de.push(()=>Se(N,"dragging",Me)),N.$on("load",n[86]);let k=n[38]&&rl(n),z=n[39]!==null&&ul(n);return{c(){e=P("div"),t=P("div"),I&&I.c(),l=U(),ne(s.$$.fragment),o=U(),u=P("div"),a=P("table"),G&&G.c(),d=U(),c=P("thead"),i=P("tr"),x&&x.c(),f=U();for(let h=0;h<b.length;h+=1)b[h].c();L=U(),T=P("tbody"),B=P("tr");for(let h=0;h<p.length;h+=1)p[h].c();S=U(),ne(N.$$.fragment),le=U(),k&&k.c(),J=U(),z&&z.c(),$=qe(),_(t,"class","header-row svelte-1l6bino"),_(i,"class","svelte-1l6bino"),_(c,"class","svelte-1l6bino"),_(B,"class","svelte-1l6bino"),_(a,"class","svelte-1l6bino"),Z(a,"fixed-layout",n[12].length!=0),_(u,"class","table-wrap svelte-1l6bino"),_e(u,"height",n[36]+"px"),_(u,"role","grid"),_(u,"tabindex","0"),Z(u,"dragging",n[33]),Z(u,"no-wrap",!n[7]),_(e,"class","table-container svelte-1l6bino")},m(h,y){H(h,e,y),M(e,t),I&&I.m(t,null),M(t,l),se(s,t,null),M(e,o),M(e,u),M(u,a),G&&G.m(a,null),M(a,d),M(a,c),M(c,i),x&&x.m(i,null),M(i,f);for(let W=0;W<b.length;W+=1)b[W]&&b[W].m(i,null);M(a,L),M(a,T),M(T,B);for(let W=0;W<p.length;W+=1)p[W]&&p[W].m(B,null);A=al.observe(a,n[68].bind(a)),n[69](a),M(u,S),se(N,u,null),n[87](u),H(h,le,y),k&&k.m(h,y),H(h,J,y),z&&z.m(h,y),H(h,$,y),D=!0,w||(K=[X($n,"resize",n[66]),X(u,"keydown",n[88])],w=!0)},p(h,y){h[1]&&h[1].length!==0&&h[2]?I?I.p(h,y):(I=Qt(h),I.c(),I.m(t,l)):I&&(I.d(1),I=null);const W={};y[0]&65536&&(W.show_fullscreen_button=h[16]),y[1]&512&&(W.is_fullscreen=h[40]),y[0]&131072&&(W.show_copy_button=h[17]),s.$set(W),h[1]&&h[1].length!==0?G?G.p(h,y):(G=Yt(h),G.c(),G.m(a,d)):G&&(G.d(1),G=null),h[13]?x||(x=Xt(),x.c(),x.m(i,f)):x&&(x.d(1),x=null),y[0]&27269408|y[1]&4097&&(Q=Ee(h[21]),ce(),b=xe(b,y,ve,1,h,Q,m,i,$e,xt,null,Gt),he()),y[0]&33556769|y[1]&2048&&(we=Ee(h[42]),ce(),p=xe(p,y,Y,1,h,we,C,B,$e,$t,null,Zt),he()),(!D||y[0]&4096)&&Z(a,"fixed-layout",h[12].length!=0);const re={};y[0]&16384&&(re.upload=h[14]),y[0]&32768&&(re.stream_handler=h[15]),y[0]&256&&(re.root=h[8]),y[0]&1979460963|y[1]&1515|y[4]&256&&(re.$$scope={dirty:y,ctx:h}),!j&&y[1]&4&&(j=!0,re.dragging=h[33],Re(()=>j=!1)),N.$set(re),(!D||y[1]&32)&&_e(u,"height",h[36]+"px"),(!D||y[1]&4)&&Z(u,"dragging",h[33]),(!D||y[0]&128)&&Z(u,"no-wrap",!h[7]),h[38]?k?(k.p(h,y),y[1]&128&&R(k,1)):(k=rl(h),k.c(),R(k,1),k.m(J.parentNode,J)):k&&(ce(),q(k,1,1,()=>{k=null}),he()),h[39]!==null?z?(z.p(h,y),y[1]&256&&R(z,1)):(z=ul(h),z.c(),R(z,1),z.m($.parentNode,$)):z&&(ce(),q(z,1,1,()=>{z=null}),he())},i(h){if(!D){R(s.$$.fragment,h);for(let y=0;y<Q.length;y+=1)R(b[y]);for(let y=0;y<we.length;y+=1)R(p[y]);R(N.$$.fragment,h),R(k),R(z),D=!0}},o(h){q(s.$$.fragment,h);for(let y=0;y<b.length;y+=1)q(b[y]);for(let y=0;y<p.length;y+=1)q(p[y]);q(N.$$.fragment,h),q(k),q(z),D=!1},d(h){h&&(F(e),F(le),F(J),F($)),I&&I.d(),oe(s),G&&G.d(),x&&x.d();for(let y=0;y<b.length;y+=1)b[y].d();for(let y=0;y<p.length;y+=1)p[y].d();A(),n[69](null),oe(N),n[87](null),k&&k.d(h),z&&z.d(h),w=!1,Je(K)}}}function Xe(){return Math.random().toString(36).substring(2,15)}function os(n,e){return e.filter(t);function t(l){var s=-1;return n.split(`
`).every(o);function o(u){if(!u)return!0;var a=u.split(l).length;return s<0&&(s=a),s===a&&a>1}}}function is(n){const e=atob(n.split(",")[1]),t=n.split(",")[0].split(":")[1].split(";")[0],l=new ArrayBuffer(e.length),s=new Uint8Array(l);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return new Blob([l],{type:t})}function rs(n){if(!n||n.length===0||!n[0])return[];let e=n[0].slice();for(let t=0;t<n.length;t++)for(let l=0;l<n[t].length;l++)`${e[l].value}`.length<`${n[t][l].value}`.length&&(e[l]=n[t][l]);return e}const us=n=>{n.preventDefault(),n.stopPropagation()};function _s(n,e,t){let l,s,{datatype:o}=e,{label:u=null}=e,{show_label:a=!0}=e,{headers:d=[]}=e,{values:c=[]}=e,{col_count:i}=e,{row_count:f}=e,{latex_delimiters:b}=e,{editable:m=!0}=e,{wrap:L=!1}=e,{root:T}=e,{i18n:B}=e,{max_height:p=500}=e,{line_breaks:C=!0}=e,{column_widths:A=[]}=e,{show_row_numbers:S=!1}=e,{upload:N}=e,{stream_handler:j}=e,{show_fullscreen_button:le=!1}=e,{show_copy_button:J=!1}=e,{value_is_output:$=!1}=e,D=!1,w,{display_value:K=null}=e,{styling:I=null}=e,G;const x=_l();let Q=!1;const ve=(r,g)=>h?.[r]?.[g]?.value;let we=null,Y={};function Me(r){let g=r||[];if(i[1]==="fixed"&&g.length<i[0]){const E=Array(i[0]-g.length).fill("").map((O,V)=>`${V+g.length}`);g=g.concat(E)}return!g||g.length===0?Array(i[0]).fill(0).map((E,O)=>{const V=Xe();return t(29,Y[V]={cell:null,input:null},Y),{id:V,value:JSON.stringify(O+1)}}):g.map((E,O)=>{const V=Xe();return t(29,Y[V]={cell:null,input:null},Y),{id:V,value:E??""}})}function Te(r){const g=r.length;return Array(f[1]==="fixed"?f[0]:g).fill(0).map((E,O)=>Array(i[1]==="fixed"?i[0]:g>0?r[0].length:d.length).fill(0).map((V,me)=>{const ke=Xe();return t(29,Y[ke]=Y[ke]||{input:null,cell:null},Y),{value:r?.[O]?.[me]??"",id:ke}}))}let k=Me(d),z=d,h=[[]],y,W=k.map(r=>r.value),re=h.map(r=>r.map(g=>String(g.value)));async function ye(){const r=k.map(E=>E.value),g=h.map(E=>E.map(O=>String(O.value)));(!Ce(g,re)||!Ce(r,W))&&(x("change",{data:h.map(E=>E.map(O=>O.value)),headers:k.map(E=>E.value),metadata:null}),$||x("input"),re=g,W=r)}function ee(r,g,E){if(!g)return"none";if(d[g]===r){if(E==="asc")return"ascending";if(E==="des")return"descending"}return"none"}function ge(r){return h.reduce((g,E,O)=>{const V=E.reduce((me,ke,He)=>r===ke.id?He:me,-1);return V===-1?g:[O,V]},[-1,-1])}function Ie(r,g){const E={ArrowRight:[0,1],ArrowLeft:[0,-1],ArrowDown:[1,0],ArrowUp:[-1,0]}[r],O=g[0]+E[0],V=g[1]+E[1];if(O<0&&V<=0)t(32,ue=V),t(20,D=!1);else{const me=h[O]?.[V];t(20,D=me?[O,V]:D)}}let Ne=!1;async function et(r){if(ue!==!1&&Le===!1)switch(r.key){case"ArrowDown":t(20,D=[0,ue]),t(32,ue=!1);return;case"ArrowLeft":t(32,ue=ue>0?ue-1:ue);return;case"ArrowRight":t(32,ue=ue<k.length-1?ue+1:ue);return;case"Escape":r.preventDefault(),t(32,ue=!1);break;case"Enter":r.preventDefault();break}if(!D)return;const[g,E]=D;switch(r.key){case"ArrowRight":case"ArrowLeft":case"ArrowDown":case"ArrowUp":if(Q)break;r.preventDefault(),Ie(r.key,[g,E]);break;case"Escape":if(!m)break;r.preventDefault(),t(28,Q=!1);break;case"Enter":if(!m)break;if(r.preventDefault(),r.shiftKey)wt(g),await Fe(),t(20,D=[g+1,E]);else if(Ce(Q,[g,E])){const ke=h[g][E].id,He=Y[ke].input;He&&t(22,h[g][E].value=He.value,h),t(28,Q=!1),await Fe(),t(20,D=[g,E])}else t(28,Q=[g,E]);break;case"Backspace":if(!m)break;Q||(r.preventDefault(),t(22,h[g][E].value="",h));break;case"Delete":if(!m)break;Q||(r.preventDefault(),t(22,h[g][E].value="",h));break;case"Tab":let O=r.shiftKey?-1:1,V=h[g][E+O],me=h?.[g+O]?.[O>0?0:k.length-1];(V||me)&&(r.preventDefault(),t(20,D=V?[g,E+O]:[g+O,O>0?0:k.length-1])),t(28,Q=!1);break;default:if(!m)break;(!Q||Q&&Ce(Q,[g,E]))&&r.key.length===1&&(t(30,Ne=!0),t(28,Q=[g,E]))}}let ae,Ke;function mt(r){typeof Ke!="number"||Ke!==r?(t(23,ae="asc"),t(24,Ke=r)):ae==="asc"?t(23,ae="des"):ae==="des"&&t(23,ae="asc")}let Le,ue=!1;async function st(r,g=!1){!m||i[1]!=="dynamic"||Le===r||(t(20,D=!1),t(32,ue=r),t(31,Le=r))}function dl(r){if(m)switch(r.detail.key){case"Escape":case"Enter":case"Tab":r.preventDefault(),t(20,D=!1),t(32,ue=Le),t(31,Le=!1),be.focus();break}}async function wt(r){if(be.focus(),f[1]!=="dynamic")return;if(h.length===0){t(61,c=[Array(d.length).fill("")]);return}const g=Array(h[0].length).fill(0).map((E,O)=>{const V=Xe();return t(29,Y[V]={cell:null,input:null},Y),{id:V,value:""}});r!==void 0&&r>=0&&r<=h.length?h.splice(r,0,g):h.push(g),t(22,h),t(61,c),t(65,y),t(20,D=[r!==void 0?r:h.length-1,0])}async function bl(r){if(be.focus(),i[1]!=="dynamic")return;const g=r!==void 0?r:h[0].length;for(let E=0;E<h.length;E++){const O=Xe();t(29,Y[O]={cell:null,input:null},Y),h[E].splice(g,0,{id:O,value:""})}d.splice(g,0,`Header ${d.length+1}`),t(22,h),t(61,c),t(65,y),t(60,d),await Fe(),requestAnimationFrame(()=>{st(g,!0);const E=be.querySelectorAll("tbody")[1].offsetWidth;be.querySelectorAll("table")[1].scrollTo({left:E})})}function kt(r){(te&&!r.target.closest(".cell-menu")||fe&&!r.target.closest(".cell-menu"))&&(t(38,te=null),t(39,fe=null));const[g]=r.composedPath();be.contains(g)||(t(26,w=void 0),t(28,Q=!1),t(20,D=!1),t(31,Le=!1),t(32,ue=!1),t(38,te=null),t(39,fe=null))}function yt(r){const g=new FileReader;function E(O){if(!O?.target?.result||typeof O.target.result!="string")return;const[V]=os(O.target.result,[",","	"]),[me,...ke]=yn(V).parseRows(O.target.result);t(21,k=Me(i[1]==="fixed"?me.slice(0,i[0]):me)),t(61,c=ke),g.removeEventListener("loadend",E)}g.addEventListener("loadend",E),g.readAsText(r)}let ot=!1,Ze=[],be,it;function Ge(){const r=Ze.map((g,E)=>g?.clientWidth||0);if(r.length!==0)for(let g=0;g<r.length;g++)be.style.setProperty(`--cell-width-${g}`,`${r[g]-tt/r.length}px`)}let rt=c.slice(0,p/c.length*37).length*37+37,tt=0;function gl(r,g,E,O,V){let me=null;if(D&&D[0]in h&&D[1]in h[D[0]]&&(me=h[D[0]][D[1]].id),typeof O!="number"||!V)return;const ke=[...Array(r.length).keys()];if(V==="asc")ke.sort((Be,De)=>r[Be][O].value<r[De][O].value?-1:1);else if(V==="des")ke.sort((Be,De)=>r[Be][O].value>r[De][O].value?-1:1);else return;const He=[...r],Lt=g?[...g]:null,zt=E?[...E]:null;if(ke.forEach((Be,De)=>{r[De]=He[Be],g&&Lt&&(g[De]=Lt[Be]),E&&zt&&(E[De]=zt[Be])}),t(22,h),t(61,c),t(65,y),me){const[Be,De]=ge(me);t(20,D=[Be,De])}}let pt=!1;gt(()=>{const r=new IntersectionObserver((g,E)=>{g.forEach(O=>{O.isIntersecting&&!pt&&(Ge(),t(22,h),t(61,c),t(65,y)),pt=O.isIntersecting})});return r.observe(be),document.addEventListener("click",kt),window.addEventListener("resize",Ct),document.addEventListener("fullscreenchange",Et),()=>{r.disconnect(),document.removeEventListener("click",kt),window.removeEventListener("resize",Ct),document.removeEventListener("fullscreenchange",Et)}});let te=null;function vt(r,g,E){if(r.stopPropagation(),te&&te.row===g&&te.col===E)t(38,te=null);else{const O=r.target.closest("td");if(O){const V=O.getBoundingClientRect();t(38,te={row:g,col:E,x:V.right,y:V.bottom})}}}function Qe(r,g){const E=g==="above"?r:r+1;wt(E),t(38,te=null),t(39,fe=null)}function Ye(r,g){const E=g==="left"?r:r+1;bl(E),t(38,te=null),t(39,fe=null)}function Ct(){t(38,te=null),t(39,fe=null),Ge()}let ze=null;function At(r){ze?.type==="header"&&ze.col===r?ze=null:ze={type:"header",col:r}}function ut(r,g){ze?.type==="cell"&&ze.row===r&&ze.col===g?ze=null:ze={type:"cell",row:r,col:g}}let fe=null,lt=!1;function ml(){document.fullscreenElement?(document.exitFullscreen(),t(40,lt=!1)):(be.requestFullscreen(),t(40,lt=!0))}function Et(){t(40,lt=!!document.fullscreenElement)}async function wl(){await xn(h,k)}function Mt(r,g){if(r.stopPropagation(),fe&&fe.col===g)t(39,fe=null);else{const E=r.target.closest("th");if(E){const O=E.getBoundingClientRect();t(39,fe={col:g,x:O.right,y:O.bottom})}}}rn(()=>{t(62,$=!1)});async function kl(r){be.focus(),f[1]==="dynamic"&&(h.length<=1||(h.splice(r,1),t(22,h),t(61,c),t(65,y),t(20,D=!1)))}async function yl(r){be.focus(),i[1]==="dynamic"&&(h[0].length<=1||(k.splice(r,1),t(21,k),t(60,d),t(64,z),h.forEach(g=>{g.splice(r,1)}),t(22,h),t(61,c),t(65,y),t(20,D=!1)))}function _t(r){kl(r),t(38,te=null),t(39,fe=null)}function at(r){yl(r),t(38,te=null),t(39,fe=null)}const pl=()=>Ge();function vl(r,g){de[r?"unshift":"push"](()=>{Ze[g]=r,t(25,Ze)})}function Cl(){G=fl.entries.get(this)?.contentRect,t(27,G)}function Al(r){de[r?"unshift":"push"](()=>{it=r,t(35,it)})}function El(r,g,E){n.$$.not_equal(h[g][E].value,r)&&(h[g][E].value=r,t(22,h),t(61,c),t(65,y))}function Ml(r,g){n.$$.not_equal(Y[g].input,r)&&(Y[g].input=r,t(29,Y))}const Ll=()=>{t(30,Ne=!1),be.focus()},zl=(r,g,E)=>vt(E,r,g),Bl=(r,g,E)=>{E.preventDefault(),E.stopPropagation(),t(30,Ne=!1),t(26,w={row:r,col:g}),t(20,D=[r,g]),t(32,ue=!1),t(31,Le=!1),m&&t(28,Q=[r,g]),ut(r,g)},Dl=(r,g,E)=>{E.preventDefault(),E.stopPropagation(),t(30,Ne=!1),t(38,te=null),t(39,fe=null),t(26,w={row:r,col:g}),t(20,D=[r,g]),t(32,ue=!1),t(31,Le=!1),m&&t(28,Q=[r,g]),ut(r,g)};function Sl(r,g){n.$$.not_equal(k[g].value,r)&&(k[g].value=r,t(21,k),t(60,d),t(64,z))}function Rl(r,g){n.$$.not_equal(Y[g].input,r)&&(Y[g].input=r,t(29,Y))}const Tl=r=>st(r),ql=(r,g)=>{g.stopPropagation(),mt(r)},Nl=(r,g)=>Mt(g,r),Hl=r=>{At(r)};function Fl(r){h=r,t(22,h),t(61,c),t(65,y)}function Pl(r){rt=r,t(36,rt)}function Ol(r){tt=r,t(37,tt)}function jl(r){ot=r,t(33,ot)}const Jl=r=>yt(is(r.detail.data));function Ul(r){de[r?"unshift":"push"](()=>{be=r,t(34,be)})}const Wl=r=>et(r),Vl=()=>Qe(te?.row||0,"above"),Il=()=>Qe(te?.row||0,"below"),Kl=()=>Ye(te?.col||0,"left"),Zl=()=>Ye(te?.col||0,"right"),Gl=()=>_t(te?.row||0),Ql=()=>at(te?.col||0),Yl=()=>Qe(te?.row??-1,"above"),Xl=()=>Qe(te?.row??-1,"below"),xl=()=>Ye(fe?.col??-1,"left"),$l=()=>Ye(fe?.col??-1,"right"),en=()=>_t(te?.row??-1),tn=()=>at(fe?.col??-1);return n.$$set=r=>{"datatype"in r&&t(0,o=r.datatype),"label"in r&&t(1,u=r.label),"show_label"in r&&t(2,a=r.show_label),"headers"in r&&t(60,d=r.headers),"values"in r&&t(61,c=r.values),"col_count"in r&&t(3,i=r.col_count),"row_count"in r&&t(4,f=r.row_count),"latex_delimiters"in r&&t(5,b=r.latex_delimiters),"editable"in r&&t(6,m=r.editable),"wrap"in r&&t(7,L=r.wrap),"root"in r&&t(8,T=r.root),"i18n"in r&&t(9,B=r.i18n),"max_height"in r&&t(10,p=r.max_height),"line_breaks"in r&&t(11,C=r.line_breaks),"column_widths"in r&&t(12,A=r.column_widths),"show_row_numbers"in r&&t(13,S=r.show_row_numbers),"upload"in r&&t(14,N=r.upload),"stream_handler"in r&&t(15,j=r.stream_handler),"show_fullscreen_button"in r&&t(16,le=r.show_fullscreen_button),"show_copy_button"in r&&t(17,J=r.show_copy_button),"value_is_output"in r&&t(62,$=r.value_is_output),"display_value"in r&&t(18,K=r.display_value),"styling"in r&&t(19,I=r.styling)},n.$$.update=()=>{if(n.$$.dirty[1]&1073741824|n.$$.dirty[2]&8&&(Ce(c,y)||(t(22,h=Te(c)),t(65,y=JSON.parse(JSON.stringify(c))))),n.$$.dirty[0]&5242880|n.$$.dirty[2]&2&&D!==!1&&!Ce(D,we)){const[r,g]=D;!isNaN(r)&&!isNaN(g)&&h[r]&&(x("select",{index:[r,g],value:ve(r,g),row_value:h[r].map(E=>E.value)}),t(63,we=D))}n.$$.dirty[1]&536870912|n.$$.dirty[2]&4&&(Ce(d,z)||(t(21,k=Me(d)),t(64,z=JSON.parse(JSON.stringify(d))))),n.$$.dirty[0]&6291456&&(h||k)&&ye(),n.$$.dirty[0]&4194304&&t(42,l=rs(h)),n.$$.dirty[0]&33554432&&Ze[0]&&Ge(),n.$$.dirty[0]&30146560&&gl(h,K,I,Ke,ae),n.$$.dirty[0]&1048576&&t(41,s=!!D&&D[0])},[o,u,a,i,f,b,m,L,T,B,p,C,A,S,N,j,le,J,K,I,D,k,h,ae,Ke,Ze,w,G,Q,Y,Ne,Le,ue,ot,be,it,rt,tt,te,fe,lt,s,l,ee,et,mt,st,dl,yt,Ge,vt,Qe,Ye,At,ut,ml,wl,Mt,_t,at,d,c,$,we,z,y,pl,vl,Cl,Al,El,Ml,Ll,zl,Bl,Dl,Sl,Rl,Tl,ql,Nl,Hl,Fl,Pl,Ol,jl,Jl,Ul,Wl,Vl,Il,Kl,Zl,Gl,Ql,Yl,Xl,xl,$l,en,tn]}class as extends Pe{constructor(e){super(),Oe(this,e,_s,ss,je,{datatype:0,label:1,show_label:2,headers:60,values:61,col_count:3,row_count:4,latex_delimiters:5,editable:6,wrap:7,root:8,i18n:9,max_height:10,line_breaks:11,column_widths:12,show_row_numbers:13,upload:14,stream_handler:15,show_fullscreen_button:16,show_copy_button:17,value_is_output:62,display_value:18,styling:19},null,[-1,-1,-1,-1,-1])}get datatype(){return this.$$.ctx[0]}set datatype(e){this.$$set({datatype:e}),v()}get label(){return this.$$.ctx[1]}set label(e){this.$$set({label:e}),v()}get show_label(){return this.$$.ctx[2]}set show_label(e){this.$$set({show_label:e}),v()}get headers(){return this.$$.ctx[60]}set headers(e){this.$$set({headers:e}),v()}get values(){return this.$$.ctx[61]}set values(e){this.$$set({values:e}),v()}get col_count(){return this.$$.ctx[3]}set col_count(e){this.$$set({col_count:e}),v()}get row_count(){return this.$$.ctx[4]}set row_count(e){this.$$set({row_count:e}),v()}get latex_delimiters(){return this.$$.ctx[5]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),v()}get editable(){return this.$$.ctx[6]}set editable(e){this.$$set({editable:e}),v()}get wrap(){return this.$$.ctx[7]}set wrap(e){this.$$set({wrap:e}),v()}get root(){return this.$$.ctx[8]}set root(e){this.$$set({root:e}),v()}get i18n(){return this.$$.ctx[9]}set i18n(e){this.$$set({i18n:e}),v()}get max_height(){return this.$$.ctx[10]}set max_height(e){this.$$set({max_height:e}),v()}get line_breaks(){return this.$$.ctx[11]}set line_breaks(e){this.$$set({line_breaks:e}),v()}get column_widths(){return this.$$.ctx[12]}set column_widths(e){this.$$set({column_widths:e}),v()}get show_row_numbers(){return this.$$.ctx[13]}set show_row_numbers(e){this.$$set({show_row_numbers:e}),v()}get upload(){return this.$$.ctx[14]}set upload(e){this.$$set({upload:e}),v()}get stream_handler(){return this.$$.ctx[15]}set stream_handler(e){this.$$set({stream_handler:e}),v()}get show_fullscreen_button(){return this.$$.ctx[16]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),v()}get show_copy_button(){return this.$$.ctx[17]}set show_copy_button(e){this.$$set({show_copy_button:e}),v()}get value_is_output(){return this.$$.ctx[62]}set value_is_output(e){this.$$set({value_is_output:e}),v()}get display_value(){return this.$$.ctx[18]}set display_value(e){this.$$set({display_value:e}),v()}get styling(){return this.$$.ctx[19]}set styling(e){this.$$set({styling:e}),v()}}const fs=as;function cs(n){let e,t,l,s,o;const u=[{autoscroll:n[16].autoscroll},{i18n:n[16].i18n},n[19]];let a={};for(let i=0;i<u.length;i+=1)a=an(a,u[i]);e=new fn({props:a}),e.$on("clear_status",n[28]);function d(i){n[31](i)}let c={root:n[13],label:n[7],show_label:n[8],row_count:n[6],col_count:n[5],values:n[25],display_value:n[24],styling:n[23],headers:n[26],wrap:n[9],datatype:n[10],latex_delimiters:n[17],editable:n[20],max_height:n[18],i18n:n[16].i18n,line_breaks:n[14],column_widths:n[15],upload:n[29],stream_handler:n[30],show_fullscreen_button:n[21],show_copy_button:n[22]};return n[1]!==void 0&&(c.value_is_output=n[1]),l=new fs({props:c}),de.push(()=>Se(l,"value_is_output",d)),l.$on("change",n[32]),l.$on("input",n[33]),l.$on("select",n[34]),{c(){ne(e.$$.fragment),t=U(),ne(l.$$.fragment)},m(i,f){se(e,i,f),H(i,t,f),se(l,i,f),o=!0},p(i,f){const b=f[0]&589824?cn(u,[f[0]&65536&&{autoscroll:i[16].autoscroll},f[0]&65536&&{i18n:i[16].i18n},f[0]&524288&&hn(i[19])]):{};e.$set(b);const m={};f[0]&8192&&(m.root=i[13]),f[0]&128&&(m.label=i[7]),f[0]&256&&(m.show_label=i[8]),f[0]&64&&(m.row_count=i[6]),f[0]&32&&(m.col_count=i[5]),f[0]&33554432&&(m.values=i[25]),f[0]&16777216&&(m.display_value=i[24]),f[0]&8388608&&(m.styling=i[23]),f[0]&67108864&&(m.headers=i[26]),f[0]&512&&(m.wrap=i[9]),f[0]&1024&&(m.datatype=i[10]),f[0]&131072&&(m.latex_delimiters=i[17]),f[0]&1048576&&(m.editable=i[20]),f[0]&262144&&(m.max_height=i[18]),f[0]&65536&&(m.i18n=i[16].i18n),f[0]&16384&&(m.line_breaks=i[14]),f[0]&32768&&(m.column_widths=i[15]),f[0]&65536&&(m.upload=i[29]),f[0]&65536&&(m.stream_handler=i[30]),f[0]&2097152&&(m.show_fullscreen_button=i[21]),f[0]&4194304&&(m.show_copy_button=i[22]),!s&&f[0]&2&&(s=!0,m.value_is_output=i[1],Re(()=>s=!1)),l.$set(m)},i(i){o||(R(e.$$.fragment,i),R(l.$$.fragment,i),o=!0)},o(i){q(e.$$.fragment,i),q(l.$$.fragment,i),o=!1},d(i){i&&F(t),oe(e,i),oe(l,i)}}}function hs(n){let e,t;return e=new _n({props:{visible:n[4],padding:!1,elem_id:n[2],elem_classes:n[3],container:!1,scale:n[11],min_width:n[12],allow_overflow:!1,$$slots:{default:[cs]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment)},m(l,s){se(e,l,s),t=!0},p(l,s){const o={};s[0]&16&&(o.visible=l[4]),s[0]&4&&(o.elem_id=l[2]),s[0]&8&&(o.elem_classes=l[3]),s[0]&2048&&(o.scale=l[11]),s[0]&4096&&(o.min_width=l[12]),s[0]&134211555|s[1]&16&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function ds(n,e,t){let l,s,o,u,{headers:a=[]}=e,{elem_id:d=""}=e,{elem_classes:c=[]}=e,{visible:i=!0}=e,{value:f={data:[["","",""]],headers:["1","2","3"],metadata:null}}=e,{value_is_output:b=!1}=e,{col_count:m}=e,{row_count:L}=e,{label:T=null}=e,{show_label:B=!0}=e,{wrap:p}=e,{datatype:C}=e,{scale:A=null}=e,{min_width:S=void 0}=e,{root:N}=e,{line_breaks:j=!0}=e,{column_widths:le=[]}=e,{gradio:J}=e,{latex_delimiters:$}=e,{max_height:D=void 0}=e,{loading_status:w}=e,{interactive:K}=e,{show_fullscreen_button:I=!1}=e,{show_copy_button:G=!1}=e;const x=()=>J.dispatch("clear_status",w),Q=(...k)=>J.client.upload(...k),ve=(...k)=>J.client.stream(...k);function we(k){b=k,t(1,b)}const Y=k=>{t(0,f=k.detail),J.dispatch("change")},Me=k=>J.dispatch("input"),Te=k=>J.dispatch("select",k.detail);return n.$$set=k=>{"headers"in k&&t(27,a=k.headers),"elem_id"in k&&t(2,d=k.elem_id),"elem_classes"in k&&t(3,c=k.elem_classes),"visible"in k&&t(4,i=k.visible),"value"in k&&t(0,f=k.value),"value_is_output"in k&&t(1,b=k.value_is_output),"col_count"in k&&t(5,m=k.col_count),"row_count"in k&&t(6,L=k.row_count),"label"in k&&t(7,T=k.label),"show_label"in k&&t(8,B=k.show_label),"wrap"in k&&t(9,p=k.wrap),"datatype"in k&&t(10,C=k.datatype),"scale"in k&&t(11,A=k.scale),"min_width"in k&&t(12,S=k.min_width),"root"in k&&t(13,N=k.root),"line_breaks"in k&&t(14,j=k.line_breaks),"column_widths"in k&&t(15,le=k.column_widths),"gradio"in k&&t(16,J=k.gradio),"latex_delimiters"in k&&t(17,$=k.latex_delimiters),"max_height"in k&&t(18,D=k.max_height),"loading_status"in k&&t(19,w=k.loading_status),"interactive"in k&&t(20,K=k.interactive),"show_fullscreen_button"in k&&t(21,I=k.show_fullscreen_button),"show_copy_button"in k&&t(22,G=k.show_copy_button)},n.$$.update=()=>{n.$$.dirty[0]&134217729&&t(26,l=[...f.headers||a]),n.$$.dirty[0]&1&&t(25,s=f.data?[...f.data]:[]),n.$$.dirty[0]&1&&t(24,o=f?.metadata?.display_value?[...f?.metadata?.display_value]:null),n.$$.dirty[0]&1048577&&t(23,u=!K&&f?.metadata?.styling?[...f?.metadata?.styling]:null)},[f,b,d,c,i,m,L,T,B,p,C,A,S,N,j,le,J,$,D,w,K,I,G,u,o,s,l,a,x,Q,ve,we,Y,Me,Te]}class As extends Pe{constructor(e){super(),Oe(this,e,ds,hs,je,{headers:27,elem_id:2,elem_classes:3,visible:4,value:0,value_is_output:1,col_count:5,row_count:6,label:7,show_label:8,wrap:9,datatype:10,scale:11,min_width:12,root:13,line_breaks:14,column_widths:15,gradio:16,latex_delimiters:17,max_height:18,loading_status:19,interactive:20,show_fullscreen_button:21,show_copy_button:22},null,[-1,-1])}get headers(){return this.$$.ctx[27]}set headers(e){this.$$set({headers:e}),v()}get elem_id(){return this.$$.ctx[2]}set elem_id(e){this.$$set({elem_id:e}),v()}get elem_classes(){return this.$$.ctx[3]}set elem_classes(e){this.$$set({elem_classes:e}),v()}get visible(){return this.$$.ctx[4]}set visible(e){this.$$set({visible:e}),v()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),v()}get value_is_output(){return this.$$.ctx[1]}set value_is_output(e){this.$$set({value_is_output:e}),v()}get col_count(){return this.$$.ctx[5]}set col_count(e){this.$$set({col_count:e}),v()}get row_count(){return this.$$.ctx[6]}set row_count(e){this.$$set({row_count:e}),v()}get label(){return this.$$.ctx[7]}set label(e){this.$$set({label:e}),v()}get show_label(){return this.$$.ctx[8]}set show_label(e){this.$$set({show_label:e}),v()}get wrap(){return this.$$.ctx[9]}set wrap(e){this.$$set({wrap:e}),v()}get datatype(){return this.$$.ctx[10]}set datatype(e){this.$$set({datatype:e}),v()}get scale(){return this.$$.ctx[11]}set scale(e){this.$$set({scale:e}),v()}get min_width(){return this.$$.ctx[12]}set min_width(e){this.$$set({min_width:e}),v()}get root(){return this.$$.ctx[13]}set root(e){this.$$set({root:e}),v()}get line_breaks(){return this.$$.ctx[14]}set line_breaks(e){this.$$set({line_breaks:e}),v()}get column_widths(){return this.$$.ctx[15]}set column_widths(e){this.$$set({column_widths:e}),v()}get gradio(){return this.$$.ctx[16]}set gradio(e){this.$$set({gradio:e}),v()}get latex_delimiters(){return this.$$.ctx[17]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),v()}get max_height(){return this.$$.ctx[18]}set max_height(e){this.$$set({max_height:e}),v()}get loading_status(){return this.$$.ctx[19]}set loading_status(e){this.$$set({loading_status:e}),v()}get interactive(){return this.$$.ctx[20]}set interactive(e){this.$$set({interactive:e}),v()}get show_fullscreen_button(){return this.$$.ctx[21]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),v()}get show_copy_button(){return this.$$.ctx[22]}set show_copy_button(e){this.$$set({show_copy_button:e}),v()}}export{fs as BaseDataFrame,Ls as BaseExample,As as default};
//# sourceMappingURL=Index-BNageyHV.js.map
