import{a as ne}from"./index-1U2KLzU-.js";import"./IconButtonWrapper.svelte_svelte_type_style_lang-BOpxTcdu.js";import{B as Ae}from"./BlockTitle-WxWxyMaZ.js";import"./MarkdownCode.svelte_svelte_type_style_lang-BbNPYd4j.js";import{D as De}from"./DropdownArrow-dYuMZY9s.js";const{SvelteComponent:Ee,add_render_callback:de,append:Q,attr:E,binding_callbacks:se,check_outros:Ce,create_bidirectional_transition:oe,destroy_each:qe,detach:K,element:V,empty:Se,ensure_array_like:ie,flush:L,group_outros:Ne,init:Te,insert:M,listen:Z,prevent_default:Be,run_all:ze,safe_not_equal:Ue,set_data:He,set_style:B,space:v,text:Je,toggle_class:T,transition_in:X,transition_out:ue}=window.__gradio__svelte__internal,{createEventDispatcher:Le}=window.__gradio__svelte__internal;function fe(l,t,e){const r=l.slice();return r[24]=t[e],r}function re(l){let t,e,r,h,f,u=ie(l[1]),n=[];for(let s=0;s<u.length;s+=1)n[s]=_e(fe(l,u,s));return{c(){t=V("ul");for(let s=0;s<n.length;s+=1)n[s].c();E(t,"class","options svelte-y6qw75"),E(t,"role","listbox"),B(t,"top",l[9]),B(t,"bottom",l[10]),B(t,"max-height",`calc(${l[11]}px - var(--window-padding))`),B(t,"width",l[8]+"px")},m(s,g){M(s,t,g);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null);l[21](t),r=!0,h||(f=Z(t,"mousedown",Be(l[20])),h=!0)},p(s,g){if(g&307){u=ie(s[1]);let o;for(o=0;o<u.length;o+=1){const a=fe(s,u,o);n[o]?n[o].p(a,g):(n[o]=_e(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=u.length}g&512&&B(t,"top",s[9]),g&1024&&B(t,"bottom",s[10]),g&2048&&B(t,"max-height",`calc(${s[11]}px - var(--window-padding))`),g&256&&B(t,"width",s[8]+"px")},i(s){r||(s&&de(()=>{r&&(e||(e=oe(t,ne,{duration:200,y:5},!0)),e.run(1))}),r=!0)},o(s){s&&(e||(e=oe(t,ne,{duration:200,y:5},!1)),e.run(0)),r=!1},d(s){s&&K(t),qe(n,s),l[21](null),s&&e&&e.end(),h=!1,f()}}}function _e(l){let t,e,r,h=l[0][l[24]][0]+"",f,u,n,s,g;return{c(){t=V("li"),e=V("span"),e.textContent="âœ“",r=v(),f=Je(h),u=v(),E(e,"class","inner-item svelte-y6qw75"),T(e,"hide",!l[4].includes(l[24])),E(t,"class","item svelte-y6qw75"),E(t,"data-index",n=l[24]),E(t,"aria-label",s=l[0][l[24]][0]),E(t,"data-testid","dropdown-option"),E(t,"role","option"),E(t,"aria-selected",g=l[4].includes(l[24])),T(t,"selected",l[4].includes(l[24])),T(t,"active",l[24]===l[5]),T(t,"bg-gray-100",l[24]===l[5]),T(t,"dark:bg-gray-600",l[24]===l[5]),B(t,"width",l[8]+"px")},m(o,a){M(o,t,a),Q(t,e),Q(t,r),Q(t,f),Q(t,u)},p(o,a){a&18&&T(e,"hide",!o[4].includes(o[24])),a&3&&h!==(h=o[0][o[24]][0]+"")&&He(f,h),a&2&&n!==(n=o[24])&&E(t,"data-index",n),a&3&&s!==(s=o[0][o[24]][0])&&E(t,"aria-label",s),a&18&&g!==(g=o[4].includes(o[24]))&&E(t,"aria-selected",g),a&18&&T(t,"selected",o[4].includes(o[24])),a&34&&T(t,"active",o[24]===o[5]),a&34&&T(t,"bg-gray-100",o[24]===o[5]),a&34&&T(t,"dark:bg-gray-600",o[24]===o[5]),a&256&&B(t,"width",o[8]+"px")},d(o){o&&K(t)}}}function Re(l){let t,e,r,h,f;de(l[18]);let u=l[2]&&!l[3]&&re(l);return{c(){t=V("div"),e=v(),u&&u.c(),r=Se(),E(t,"class","reference")},m(n,s){M(n,t,s),l[19](t),M(n,e,s),u&&u.m(n,s),M(n,r,s),h||(f=[Z(window,"scroll",l[13]),Z(window,"resize",l[18])],h=!0)},p(n,[s]){n[2]&&!n[3]?u?(u.p(n,s),s&12&&X(u,1)):(u=re(n),u.c(),X(u,1),u.m(r.parentNode,r)):u&&(Ne(),ue(u,1,1,()=>{u=null}),Ce())},i(n){X(u)},o(n){ue(u)},d(n){n&&(K(t),K(e),K(r)),l[19](null),u&&u.d(n),h=!1,ze(f)}}}function Ie(l,t,e){let{choices:r}=t,{filtered_indices:h}=t,{show_options:f=!1}=t,{disabled:u=!1}=t,{selected_indices:n=[]}=t,{active_index:s=null}=t,g,o,a,y,k,C,m,i,c,O;function p(){const{top:d,bottom:J}=k.getBoundingClientRect();e(15,g=d),e(16,o=O-J)}let w=null;function U(){f&&(w!==null&&clearTimeout(w),w=setTimeout(()=>{p(),w=null},10))}const z=Le();function q(){e(12,O=window.innerHeight)}function A(d){se[d?"unshift":"push"](()=>{k=d,e(6,k)})}const b=d=>z("change",d);function S(d){se[d?"unshift":"push"](()=>{C=d,e(7,C)})}return l.$$set=d=>{"choices"in d&&e(0,r=d.choices),"filtered_indices"in d&&e(1,h=d.filtered_indices),"show_options"in d&&e(2,f=d.show_options),"disabled"in d&&e(3,u=d.disabled),"selected_indices"in d&&e(4,n=d.selected_indices),"active_index"in d&&e(5,s=d.active_index)},l.$$.update=()=>{if(l.$$.dirty&229588){if(f&&k){if(C&&n.length>0){let J=C.querySelectorAll("li");for(const P of Array.from(J))if(P.getAttribute("data-index")===n[0].toString()){C?.scrollTo?.(0,P.offsetTop);break}}p();const d=k.parentElement?.getBoundingClientRect();e(17,a=d?.height||0),e(8,y=d?.width||0)}o>g?(e(9,m=`${g}px`),e(11,c=o),e(10,i=null)):(e(10,i=`${o+a}px`),e(11,c=g-a),e(9,m=null))}},[r,h,f,u,n,s,k,C,y,m,i,c,O,U,z,g,o,a,q,A,b,S]}class je extends Ee{constructor(t){super(),Te(this,t,Ie,Re,Ue,{choices:0,filtered_indices:1,show_options:2,disabled:3,selected_indices:4,active_index:5})}get choices(){return this.$$.ctx[0]}set choices(t){this.$$set({choices:t}),L()}get filtered_indices(){return this.$$.ctx[1]}set filtered_indices(t){this.$$set({filtered_indices:t}),L()}get show_options(){return this.$$.ctx[2]}set show_options(t){this.$$set({show_options:t}),L()}get disabled(){return this.$$.ctx[3]}set disabled(t){this.$$set({disabled:t}),L()}get selected_indices(){return this.$$.ctx[4]}set selected_indices(t){this.$$set({selected_indices:t}),L()}get active_index(){return this.$$.ctx[5]}set active_index(t){this.$$set({active_index:t}),L()}}function Fe(l,t){return(l%t+t)%t}function ce(l,t){return l.reduce((e,r,h)=>((!t||r[0].toLowerCase().includes(t.toLowerCase()))&&e.push(h),e),[])}function Ge(l,t,e){l("change",t),e||l("input")}function Ke(l,t,e){if(l.key==="Escape")return[!1,t];if((l.key==="ArrowDown"||l.key==="ArrowUp")&&e.length>=0)if(t===null)t=l.key==="ArrowDown"?e[0]:e[e.length-1];else{const r=e.indexOf(t),h=l.key==="ArrowUp"?-1:1;t=e[Fe(r+h,e.length)]}return[!0,t]}const{SvelteComponent:Me,append:H,attr:D,binding_callbacks:Pe,check_outros:Qe,create_component:x,destroy_component:$,detach:te,element:I,flush:N,group_outros:Ve,init:We,insert:le,listen:F,mount_component:ee,run_all:Xe,safe_not_equal:Ye,set_data:Ze,set_input_value:he,space:Y,text:ve,toggle_class:R,transition_in:j,transition_out:G}=window.__gradio__svelte__internal,{createEventDispatcher:xe,afterUpdate:$e}=window.__gradio__svelte__internal;function et(l){let t;return{c(){t=ve(l[0])},m(e,r){le(e,t,r)},p(e,r){r[0]&1&&Ze(t,e[0])},d(e){e&&te(t)}}}function ae(l){let t,e,r;return e=new De({}),{c(){t=I("div"),x(e.$$.fragment),D(t,"class","icon-wrap svelte-1hfxrpf")},m(h,f){le(h,t,f),ee(e,t,null),r=!0},i(h){r||(j(e.$$.fragment,h),r=!0)},o(h){G(e.$$.fragment,h),r=!1},d(h){h&&te(t),$(e)}}}function tt(l){let t,e,r,h,f,u,n,s,g,o,a,y,k,C;e=new Ae({props:{root:l[8],show_label:l[4],info:l[1],$$slots:{default:[et]},$$scope:{ctx:l}}});let m=!l[3]&&ae();return a=new je({props:{show_options:l[13],choices:l[2],filtered_indices:l[11],disabled:l[3],selected_indices:l[12]===null?[]:[l[12]],active_index:l[15]}}),a.$on("change",l[17]),{c(){t=I("div"),x(e.$$.fragment),r=Y(),h=I("div"),f=I("div"),u=I("div"),n=I("input"),g=Y(),m&&m.c(),o=Y(),x(a.$$.fragment),D(n,"role","listbox"),D(n,"aria-controls","dropdown-options"),D(n,"aria-expanded",l[13]),D(n,"aria-label",l[0]),D(n,"class","border-none svelte-1hfxrpf"),n.disabled=l[3],D(n,"autocomplete","off"),n.readOnly=s=!l[7],R(n,"subdued",!l[14].includes(l[10])&&!l[6]),D(u,"class","secondary-wrap svelte-1hfxrpf"),D(f,"class","wrap-inner svelte-1hfxrpf"),R(f,"show_options",l[13]),D(h,"class","wrap svelte-1hfxrpf"),D(t,"class","svelte-1hfxrpf"),R(t,"container",l[5])},m(i,c){le(i,t,c),ee(e,t,null),H(t,r),H(t,h),H(h,f),H(f,u),H(u,n),he(n,l[10]),l[30](n),H(u,g),m&&m.m(u,null),H(h,o),ee(a,h,null),y=!0,k||(C=[F(n,"input",l[29]),F(n,"keydown",l[20]),F(n,"keyup",l[31]),F(n,"blur",l[19]),F(n,"focus",l[18])],k=!0)},p(i,c){const O={};c[0]&256&&(O.root=i[8]),c[0]&16&&(O.show_label=i[4]),c[0]&2&&(O.info=i[1]),c[0]&1|c[1]&16&&(O.$$scope={dirty:c,ctx:i}),e.$set(O),(!y||c[0]&8192)&&D(n,"aria-expanded",i[13]),(!y||c[0]&1)&&D(n,"aria-label",i[0]),(!y||c[0]&8)&&(n.disabled=i[3]),(!y||c[0]&128&&s!==(s=!i[7]))&&(n.readOnly=s),c[0]&1024&&n.value!==i[10]&&he(n,i[10]),(!y||c[0]&17472)&&R(n,"subdued",!i[14].includes(i[10])&&!i[6]),i[3]?m&&(Ve(),G(m,1,1,()=>{m=null}),Qe()):m?c[0]&8&&j(m,1):(m=ae(),m.c(),j(m,1),m.m(u,null)),(!y||c[0]&8192)&&R(f,"show_options",i[13]);const p={};c[0]&8192&&(p.show_options=i[13]),c[0]&4&&(p.choices=i[2]),c[0]&2048&&(p.filtered_indices=i[11]),c[0]&8&&(p.disabled=i[3]),c[0]&4096&&(p.selected_indices=i[12]===null?[]:[i[12]]),c[0]&32768&&(p.active_index=i[15]),a.$set(p),(!y||c[0]&32)&&R(t,"container",i[5])},i(i){y||(j(e.$$.fragment,i),j(m),j(a.$$.fragment,i),y=!0)},o(i){G(e.$$.fragment,i),G(m),G(a.$$.fragment,i),y=!1},d(i){i&&te(t),$(e),l[30](null),m&&m.d(),$(a),k=!1,Xe(C)}}}function lt(l,t,e){let{label:r}=t,{info:h=void 0}=t,{value:f=void 0}=t,u,{value_is_output:n=!1}=t,{choices:s}=t,g,{disabled:o=!1}=t,{show_label:a}=t,{container:y=!0}=t,{allow_custom_value:k=!1}=t,{filterable:C=!0}=t,{root:m}=t,i,c=!1,O,p,w="",U="",z=!1,q=[],A=null,b=null,S;const d=xe();f&&(S=s.map(_=>_[1]).indexOf(f),b=S,b===-1?(u=f,b=null):([w,u]=s[b],U=w),W());function J(){e(14,O=s.map(_=>_[0])),e(25,p=s.map(_=>_[1]))}const P=typeof window<"u";function W(){J(),f===void 0||Array.isArray(f)&&f.length===0?(e(10,w=""),e(12,b=null)):p.includes(f)?(e(10,w=O[p.indexOf(f)]),e(12,b=p.indexOf(f))):k?(e(10,w=f),e(12,b=null)):(e(10,w=""),e(12,b=null)),e(28,S=b)}function ge(_){if(e(12,b=parseInt(_.detail.target.dataset.index)),isNaN(b)){e(12,b=null);return}e(13,c=!1),e(15,A=null),i.blur()}function we(_){e(11,q=s.map((nt,Oe)=>Oe)),e(13,c=!0),d("focus")}function be(){k?e(21,f=w):e(10,w=O[p.indexOf(f)]),e(13,c=!1),e(15,A=null),d("blur")}function me(_){e(13,[c,A]=Ke(_,A,q),c,(e(15,A),e(2,s),e(24,g),e(6,k),e(10,w),e(11,q),e(9,i),e(26,U),e(12,b),e(28,S),e(27,z),e(25,p))),_.key==="Enter"&&(A!==null?(e(12,b=A),e(13,c=!1),i.blur(),e(15,A=null)):O.includes(w)?(e(12,b=O.indexOf(w)),e(13,c=!1),e(15,A=null),i.blur()):k&&(e(21,f=w),e(12,b=null),e(13,c=!1),e(15,A=null),i.blur()))}$e(()=>{e(22,n=!1),e(27,z=!0)});function pe(){w=this.value,e(10,w),e(12,b),e(28,S),e(27,z),e(2,s),e(25,p)}function ke(_){Pe[_?"unshift":"push"](()=>{i=_,e(9,i)})}const ye=_=>d("key_up",{key:_.key,input_value:w});return l.$$set=_=>{"label"in _&&e(0,r=_.label),"info"in _&&e(1,h=_.info),"value"in _&&e(21,f=_.value),"value_is_output"in _&&e(22,n=_.value_is_output),"choices"in _&&e(2,s=_.choices),"disabled"in _&&e(3,o=_.disabled),"show_label"in _&&e(4,a=_.show_label),"container"in _&&e(5,y=_.container),"allow_custom_value"in _&&e(6,k=_.allow_custom_value),"filterable"in _&&e(7,C=_.filterable),"root"in _&&e(8,m=_.root)},l.$$.update=()=>{l.$$.dirty[0]&436211716&&b!==S&&b!==null&&z&&(e(10,[w,f]=s[b],w,(e(21,f),e(12,b),e(28,S),e(27,z),e(2,s),e(25,p))),e(28,S=b),d("select",{index:b,value:p[b],selected:!0})),l.$$.dirty[0]&14680064&&JSON.stringify(u)!==JSON.stringify(f)&&(W(),Ge(d,f,n),e(23,u=f)),l.$$.dirty[0]&4&&J(),l.$$.dirty[0]&16780868&&s!==g&&(k||W(),e(24,g=s),e(11,q=ce(s,w)),!k&&q.length>0&&e(15,A=q[0]),P&&i===document.activeElement&&e(13,c=!0)),l.$$.dirty[0]&67112004&&w!==U&&(e(11,q=ce(s,w)),e(26,U=w),!k&&q.length>0&&e(15,A=q[0]))},[r,h,s,o,a,y,k,C,m,i,w,q,b,c,O,A,d,ge,we,be,me,f,n,u,g,p,U,z,S,pe,ke,ye]}class rt extends Me{constructor(t){super(),We(this,t,lt,tt,Ye,{label:0,info:1,value:21,value_is_output:22,choices:2,disabled:3,show_label:4,container:5,allow_custom_value:6,filterable:7,root:8},null,[-1,-1])}get label(){return this.$$.ctx[0]}set label(t){this.$$set({label:t}),N()}get info(){return this.$$.ctx[1]}set info(t){this.$$set({info:t}),N()}get value(){return this.$$.ctx[21]}set value(t){this.$$set({value:t}),N()}get value_is_output(){return this.$$.ctx[22]}set value_is_output(t){this.$$set({value_is_output:t}),N()}get choices(){return this.$$.ctx[2]}set choices(t){this.$$set({choices:t}),N()}get disabled(){return this.$$.ctx[3]}set disabled(t){this.$$set({disabled:t}),N()}get show_label(){return this.$$.ctx[4]}set show_label(t){this.$$set({show_label:t}),N()}get container(){return this.$$.ctx[5]}set container(t){this.$$set({container:t}),N()}get allow_custom_value(){return this.$$.ctx[6]}set allow_custom_value(t){this.$$set({allow_custom_value:t}),N()}get filterable(){return this.$$.ctx[7]}set filterable(t){this.$$set({filterable:t}),N()}get root(){return this.$$.ctx[8]}set root(t){this.$$set({root:t}),N()}}export{je as D,Ge as a,Ke as b,rt as c,ce as h};
//# sourceMappingURL=Dropdown-crTg2D7h.js.map
